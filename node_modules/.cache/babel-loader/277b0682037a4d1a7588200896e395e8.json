{"ast":null,"code":"import _objectSpread from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{BrowserRouter,Route,Switch,Link}from'react-router-dom';import{Descriptions,Divider,Breadcrumb,Button,message,Popconfirm,Table,Upload,Image}from'antd';import reqwest from'reqwest';import axios from'axios';import AdmAddAd from'../../../utils/AdmAddAd/AdmAddAd';import'antd/dist/antd.css';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Adm=/*#__PURE__*/function(_Component){_inherits(Adm,_Component);var _super=_createSuper(Adm);function Adm(){var _this;_classCallCheck(this,Adm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={adData:[],adid:''};_this.property={name:'file',headers:{authorization:'authorization-text'},showUploadList:false,customRequest:function customRequest(data){console.log(_this.state.adData);var formData=new FormData();formData.append(\"file\",data.file);formData.append(\"adid\",_this.state.adid);axios({// 后端接口\nurl:'/modifyad',method:'post',// 传递给后端的数据\ndata:formData}).then(function(res){console.log(res);var newData=res.data;if(newData.status==='图片修改成功'){var adData=_this.state.adData;adData.forEach(function(item){if(item.adid===_this.state.adid){item.picture=newData.url;}});_this.setState({adData:adData});message.success(\"广告图片更改成功！\");}else{message.error(\"广告图片更改失败！\");}});},maxCount:1};_this.getAdid=function(adid){_this.setState({adid:adid});};_this.columns=[{title:'adid',dataIndex:'adid',key:'adid',defaultSortOrder:'ascend',sorter:function sorter(a,b){return a.adid-b.adid;}},{title:'广告公司',dataIndex:'adCompany',key:'adCompany'},{title:'广告名称',dataIndex:'adName',key:'adName'},{title:'所属分类',dataIndex:'category',key:'category'},{title:'广告图片',key:'picture',dataIndex:'picture',render:function render(picture){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Image,{preview:false,width:150,src:picture})});}},{title:'操作',dataIndex:'adid',key:'operation',render:function render(adid){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Upload,_objectSpread(_objectSpread({},_this.property),{},{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",style:{borderRadius:5},onClick:_this.getAdid.bind(_assertThisInitialized(_this),adid),children:\"\\u4FEE\\u6539\\u56FE\\u7247\"})})),/*#__PURE__*/_jsx(Button,{type:\"primary\",style:{borderRadius:5,marginLeft:13},danger:true,children:/*#__PURE__*/_jsx(Popconfirm,{title:\"\\u786E\\u5B9A\\u5220\\u9664\\u8BE5\\u5E7F\\u544A\\u5417?\",onConfirm:_this.confirm.bind(_assertThisInitialized(_this),adid),okText:\"\\u786E\\u8BA4\",cancelText:\"\\u53D6\\u6D88\",children:\"\\u5220\\u9664\\u5E7F\\u544A\"})})]});}}];_this.TableComponent=function(){return/*#__PURE__*/_jsx(Table,{columns:_this.columns,dataSource:_this.state.adData,pagination:false});};return _this;}_createClass(Adm,[{key:\"confirm\",value:function confirm(adid){var _this2=this;var data={adid:adid};console.log(this.state.adData);reqwest({// 后端接口\nurl:'/deletead',method:'post',type:'json',// 传递给后端的数据\ndata:data})//根据返回的状态码status判断是否删除广告成功\n.then(function(res){console.log(res);if(res.status===\"success\"){_this2.setState({adData:res.results});message.success('删除成功');}else{message.error('删除失败');}});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;reqwest({url:'/adlist',method:'get',type:'json'}).then(function(res){console.log(res);_this3.setState({adData:res});});}},{key:\"render\",value:function render(){console.log(\"我被渲染了\");return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Divider,{style:{margin:0}}),/*#__PURE__*/_jsxs(\"div\",{className:\"descwraper\",children:[/*#__PURE__*/_jsxs(Breadcrumb,{className:\"bdc\",children:[/*#__PURE__*/_jsx(Breadcrumb.Item,{children:/*#__PURE__*/_jsx(\"a\",{href:\"/home\",children:\"\\u4E3B\\u9875\"})}),/*#__PURE__*/_jsx(Breadcrumb.Item,{children:\"\\u5E7F\\u544A\\u6295\\u653E\\u7BA1\\u7406\"})]}),/*#__PURE__*/_jsx(Descriptions,{title:\"\\u5E7F\\u544A\\u7BA1\\u7406\",className:\"desc\",children:/*#__PURE__*/_jsx(Descriptions.Item,{children:\"\\u5E7F\\u544A\\u4FE1\\u606F\\u5C55\\u793A\\uFF0C\\u53EF\\u4EE5\\u8FDB\\u884C\\u65B0\\u589E\\u5E7F\\u544A\\uFF0C\\u66F4\\u6539\\u5E7F\\u544A\\uFF0C\\u5220\\u9664\\u5E7F\\u544A\\u64CD\\u4F5C\\u3002\\u6CE8\\u610F\\uFF1A\\u6700\\u591A\\u53EA\\u5141\\u8BB83\\u4E2A\\u5E7F\\u544A\\u4F4D\"})}),/*#__PURE__*/_jsx(Divider,{style:{margin:0}}),this.state.adData.length>=3?/*#__PURE__*/_jsx(Button,{type:\"primary\",style:{marginBottom:10,marginTop:10,borderRadius:5},danger:true,children:\"\\u5E7F\\u544A\\u4F4D\\u5DF2\\u8FBE3\\u4F4D\"}):/*#__PURE__*/_jsx(Button,{type:\"primary\",style:{marginBottom:10,marginTop:10,borderRadius:5},children:/*#__PURE__*/_jsx(Link,{to:\"/home/adm/addad\",children:\"\\u65B0\\u589E\\u5E7F\\u544A\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"contentWraper\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/home/adm/addad\",component:AdmAddAd.bind(this,this.state.adData.length)}),/*#__PURE__*/_jsx(Route,{path:\"/home/adm\",component:this.TableComponent})]})})]})});}}]);return Adm;}(Component);export{Adm as default};","map":{"version":3,"sources":["D:/code/cloud-supermarket-management-system/src/components/Content/Adm/Adm.jsx"],"names":["React","Component","BrowserRouter","Route","Switch","Link","Descriptions","Divider","Breadcrumb","Button","message","Popconfirm","Table","Upload","Image","reqwest","axios","AdmAddAd","Adm","state","adData","adid","property","name","headers","authorization","showUploadList","customRequest","data","console","log","formData","FormData","append","file","url","method","then","res","newData","status","forEach","item","picture","setState","success","error","maxCount","getAdid","columns","title","dataIndex","key","defaultSortOrder","sorter","a","b","render","borderRadius","bind","marginLeft","confirm","TableComponent","type","results","margin","length","marginBottom","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { BrowserRouter, Route, Switch, Link } from 'react-router-dom';\r\nimport { Descriptions, Divider, Breadcrumb, Button, message, Popconfirm, Table, Upload, Image } from 'antd';\r\nimport reqwest from 'reqwest';\r\nimport axios from 'axios'\r\nimport AdmAddAd from '../../../utils/AdmAddAd/AdmAddAd'\r\nimport 'antd/dist/antd.css'\r\nimport './index.css'\r\n\r\n\r\nexport default class Adm extends Component {\r\n    state = {\r\n        adData: [],\r\n        adid: ''\r\n    }\r\n\r\n    property = {\r\n        name: 'file',\r\n        headers: {\r\n            authorization: 'authorization-text'\r\n        },\r\n        showUploadList: false,\r\n        customRequest: (data) => {\r\n            console.log(this.state.adData)\r\n\r\n            let formData = new FormData()\r\n            formData.append(\"file\", data.file);\r\n            formData.append(\"adid\", this.state.adid);\r\n            axios({\r\n                // 后端接口\r\n                url: '/modifyad',\r\n                method: 'post',\r\n                // 传递给后端的数据\r\n                data: formData,\r\n            })\r\n                .then(res => {\r\n                    console.log(res)\r\n                    let newData = res.data\r\n                    if (newData.status === '图片修改成功') {\r\n                        let adData = this.state.adData\r\n                        adData.forEach(item => {\r\n                            if (item.adid === this.state.adid) {\r\n                                item.picture = newData.url\r\n                            }\r\n                        })\r\n                        this.setState({\r\n                            adData\r\n                        })\r\n                        message.success(\"广告图片更改成功！\")\r\n                    } else {\r\n                        message.error(\"广告图片更改失败！\")\r\n                    }\r\n                })\r\n        },\r\n        maxCount: 1\r\n    };\r\n\r\n    confirm(adid) {\r\n        const data = { adid: adid }\r\n        console.log(this.state.adData)\r\n        reqwest({\r\n            // 后端接口\r\n            url: '/deletead',\r\n            method: 'post',\r\n            type: 'json',\r\n            // 传递给后端的数据\r\n            data: data,\r\n        })\r\n            //根据返回的状态码status判断是否删除广告成功\r\n            .then(res => {\r\n                console.log(res)\r\n                if (res.status === \"success\") {\r\n                    this.setState({\r\n                        adData: res.results\r\n                    })\r\n                    message.success('删除成功');\r\n                } else {\r\n                    message.error('删除失败');\r\n\r\n                }\r\n            })\r\n    }\r\n\r\n    getAdid = (adid) => {\r\n        this.setState({\r\n            adid\r\n        })\r\n    }\r\n\r\n    columns = [\r\n        {\r\n            title: 'adid',\r\n            dataIndex: 'adid',\r\n            key: 'adid',\r\n            defaultSortOrder: 'ascend',\r\n            sorter: (a, b) => a.adid - b.adid,\r\n        },\r\n        {\r\n            title: '广告公司',\r\n            dataIndex: 'adCompany',\r\n            key: 'adCompany',\r\n        },\r\n        {\r\n            title: '广告名称',\r\n            dataIndex: 'adName',\r\n            key: 'adName',\r\n        },\r\n        {\r\n            title: '所属分类',\r\n            dataIndex: 'category',\r\n            key: 'category',\r\n        },\r\n        {\r\n            title: '广告图片',\r\n            key: 'picture',\r\n            dataIndex: 'picture',\r\n            render: picture => (\r\n                <>\r\n                    <Image\r\n                        preview={false}\r\n                        width={150}\r\n                        src={picture}\r\n                    />\r\n                </>\r\n            ),\r\n        },\r\n        {\r\n            title: '操作',\r\n            dataIndex: 'adid',\r\n            key: 'operation',\r\n            render: (adid) => {\r\n                return (\r\n                    <>\r\n                        <Upload {...this.property}>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                style={{ borderRadius: 5 }}\r\n                                onClick={this.getAdid.bind(this, adid)}\r\n                            >\r\n                                修改图片\r\n                            </Button>\r\n                        </Upload>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            style={{ borderRadius: 5, marginLeft: 13 }}\r\n                            danger\r\n                        >\r\n                            <Popconfirm\r\n                                title=\"确定删除该广告吗?\"\r\n                                onConfirm={this.confirm.bind(this, adid)}\r\n                                okText=\"确认\"\r\n                                cancelText=\"取消\"\r\n                            >\r\n                                删除广告\r\n                            </Popconfirm>\r\n                        </Button>\r\n                    </>\r\n                )\r\n            }\r\n        },\r\n    ];\r\n\r\n    TableComponent = () => {\r\n        return <Table columns={this.columns} dataSource={this.state.adData} pagination={false} />\r\n    }\r\n\r\n    componentDidMount() {\r\n        reqwest({\r\n            url: '/adlist',\r\n            method: 'get',\r\n            type: 'json',\r\n        })\r\n            .then(res => {\r\n                console.log(res)\r\n                this.setState({\r\n                    adData: res\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        console.log(\"我被渲染了\")\r\n        return (\r\n            <div>\r\n                <BrowserRouter>\r\n                    <Divider style={{ margin: 0 }} />\r\n                    <div className=\"descwraper\">\r\n                        <Breadcrumb className=\"bdc\">\r\n                            <Breadcrumb.Item>\r\n                                <a href=\"/home\">主页</a>\r\n                            </Breadcrumb.Item>\r\n                            <Breadcrumb.Item>广告投放管理</Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n                        <Descriptions title=\"广告管理\" className=\"desc\">\r\n                            <Descriptions.Item>广告信息展示，可以进行新增广告，更改广告，删除广告操作。注意：最多只允许3个广告位</Descriptions.Item>\r\n                        </Descriptions>\r\n                        <Divider style={{ margin: 0 }} />\r\n                        {(this.state.adData.length >= 3)\r\n                            ?\r\n                            <Button\r\n                                type=\"primary\"\r\n                                style={{ marginBottom: 10, marginTop: 10, borderRadius: 5 }}\r\n                                danger\r\n                            >\r\n                                广告位已达3位\r\n                            </Button>\r\n                            :\r\n                            <Button\r\n                                type=\"primary\"\r\n                                style={{ marginBottom: 10, marginTop: 10, borderRadius: 5 }}\r\n                            >\r\n                                <Link to='/home/adm/addad'>新增广告</Link>\r\n                            </Button>\r\n                        }\r\n                    </div>\r\n                    <div className=\"contentWraper\">\r\n                        <Switch>\r\n                            <Route path='/home/adm/addad' component={AdmAddAd.bind(this,this.state.adData.length)} />\r\n                            <Route path='/home/adm' component={this.TableComponent} />\r\n                        </Switch>\r\n                    </div>\r\n                </BrowserRouter>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}