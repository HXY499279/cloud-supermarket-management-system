{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\cloud-supermarket-management-system\\\\src\\\\utils\\\\CimCommodityCard\\\\CommodityCard.jsx\";\nimport React, { Component } from 'react';\nimport { Card, Divider, Input, Popconfirm, Button, message, Image } from 'antd';\nimport { EditOutlined, CloseOutlined } from '@ant-design/icons';\nimport reqwest from 'reqwest';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class CommodityCard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {},\n      isEdit: false\n    };\n\n    this.edit = () => {\n      this.setState({\n        isEdit: true\n      });\n    };\n\n    this.delete = id => {\n      console.log(typeof id);\n      this.props.renderCommodityList(id);\n    };\n\n    this.comfimEdit = () => {\n      const [cid, currentPrice, inventory, originalPrice] = [this.state.data.cid, this.currentPriceElev.state.value, this.inventoryElev.state.value, this.originalPriceElev.state.value];\n      const newData = {\n        cid,\n        currentPrice,\n        inventory,\n        originalPrice\n      };\n      console.log(this.state.data);\n      console.log(newData);\n      reqwest({\n        url: '/editcommodity',\n        method: 'post',\n        type: 'json',\n        data: newData\n      }).then(res => {\n        if (res.status === \"success\") {\n          message.success(\"更改成功！\");\n          console.log(this.state.data);\n          let oldData = this.state.data;\n          [oldData.currentPrice, oldData.inventory, oldData.originalPrice] = [newData.currentPrice, newData.inventory, newData.originalPrice];\n          this.setState({\n            data: oldData,\n            isEdit: false\n          });\n        } else {\n          message.error(\"更改失败！\");\n          let oldData = this.state.data;\n          this.setState({\n            data: oldData,\n            isEdit: false\n          });\n        }\n      });\n    };\n\n    this.propertyEdit = keyword => {\n      const item = this.state.data;\n      const isEdit = this.state.isEdit;\n      return isEdit ? /*#__PURE__*/_jsxDEV(Input, {\n        className: \"editInput\",\n        defaultValue: item[keyword],\n        onChange: this[`${keyword}Change`],\n        ref: elev => {\n          this[`${keyword}Elev`] = elev;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this) : item[keyword];\n    };\n\n    this.componentDidMount = () => {\n      this.setState({\n        data: this.props.data\n      });\n    };\n  }\n\n  render() {\n    const item = this.state.data;\n    const isEdit = this.state.isEdit;\n    return /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: 307,\n        height: 375,\n        margin: '0 auto'\n      },\n      cover: /*#__PURE__*/_jsxDEV(Image, {\n        alt: \"\\u56FE\\u7247\\u51FA\\u9519\",\n        src: item.src,\n        height: 186,\n        width: 307,\n        preview: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this),\n      actions: [isEdit ? /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        size: \"small\",\n        style: {\n          borderRadius: 5\n        },\n        onClick: this.comfimEdit,\n        children: \"\\u786E\\u8BA4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(EditOutlined, {\n        onClick: this.edit\n      }, \"edit\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n        title: \"\\u786E\\u5B9A\\u5220\\u9664\\u8BE5\\u5546\\u54C1\\u5417?\",\n        onConfirm: this.delete.bind(this, item.id),\n        okText: \"\\u786E\\u8BA4\",\n        cancelText: \"\\u53D6\\u6D88\",\n        children: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, \"ellipsis\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }, this)] // loading={true}\n      ,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '10PX 0 0 0 ',\n          fontWeight: 900,\n          fontSize: 18,\n          textAlign: 'center'\n        },\n        children: item.commodityName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detailWraper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail\",\n          children: [\"\\u7F16\\u53F7: \", item.cid]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          style: {\n            margin: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail\",\n          children: [\"\\u73B0\\u4EF7: \", this.propertyEdit('currentPrice'), \"\\u5143\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          style: {\n            margin: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail\",\n          children: [\"\\u5E93\\u5B58: \", this.propertyEdit('inventory'), \"\\u4EF6 \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          style: {\n            margin: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail\",\n          children: [\"\\u89C4\\u683C: \", item.weight, \"g \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detailWraper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail\",\n          title: item.category,\n          children: [\"\\u5206\\u7C7B: \", item.category, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          style: {\n            margin: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail\",\n          children: [\"\\u539F\\u4EF7: \", this.propertyEdit('originalPrice'), \"\\u5143 \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          style: {\n            margin: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail\",\n          children: [\"\\u9500\\u91CF: \", item.salesVolume, \"\\u4EF6 \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          style: {\n            margin: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail\",\n          children: [\"\\u4EA7\\u5730: \", item.originalPlace, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/code/cloud-supermarket-management-system/src/utils/CimCommodityCard/CommodityCard.jsx"],"names":["React","Component","Card","Divider","Input","Popconfirm","Button","message","Image","EditOutlined","CloseOutlined","reqwest","CommodityCard","state","data","isEdit","edit","setState","delete","id","console","log","props","renderCommodityList","comfimEdit","cid","currentPrice","inventory","originalPrice","currentPriceElev","value","inventoryElev","originalPriceElev","newData","url","method","type","then","res","status","success","oldData","error","propertyEdit","keyword","item","elev","componentDidMount","render","width","height","margin","src","borderRadius","bind","fontWeight","fontSize","textAlign","commodityName","weight","category","salesVolume","originalPlace"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Card, Divider, Input, Popconfirm, Button, message, Image } from 'antd';\r\nimport { EditOutlined, CloseOutlined } from '@ant-design/icons';\r\nimport reqwest from 'reqwest';\r\nimport './index.css'\r\n\r\nexport default class CommodityCard extends Component {\r\n    state = {\r\n        data: {},\r\n        isEdit: false\r\n    }\r\n\r\n    edit = () => {\r\n        this.setState({\r\n            isEdit: true\r\n        })\r\n\r\n    }\r\n    // 删除商品操作\r\n    delete = (id) => {\r\n        console.log(typeof id)\r\n        this.props.renderCommodityList(id)\r\n    }\r\n    // 确认编辑操作,发送表单请求到后端\r\n    comfimEdit = () => {\r\n        const [\r\n            cid,\r\n            currentPrice,\r\n            inventory,\r\n            originalPrice,\r\n        ] = [\r\n                this.state.data.cid,\r\n                this.currentPriceElev.state.value,\r\n                this.inventoryElev.state.value,\r\n                this.originalPriceElev.state.value,\r\n            ]\r\n        const newData = {\r\n            cid,\r\n            currentPrice,\r\n            inventory,\r\n            originalPrice,\r\n        }\r\n        console.log(this.state.data)\r\n        console.log(newData)\r\n        reqwest({\r\n            url: '/editcommodity',\r\n            method: 'post',\r\n            type: 'json',\r\n            data: newData\r\n        })\r\n            .then(res => {\r\n                if (res.status === \"success\") {\r\n                    message.success(\"更改成功！\")\r\n                    console.log(this.state.data)\r\n                    let oldData = this.state.data;\r\n                    [\r\n                        oldData.currentPrice,\r\n                        oldData.inventory,\r\n                        oldData.originalPrice,\r\n                    ] = [\r\n                            newData.currentPrice,\r\n                            newData.inventory,\r\n                            newData.originalPrice,\r\n                        ]\r\n                    this.setState({\r\n                        data: oldData,\r\n                        isEdit: false\r\n                    })\r\n                } else {\r\n                    message.error(\"更改失败！\")\r\n                    let oldData = this.state.data;\r\n                    this.setState({\r\n                        data: oldData,\r\n                        isEdit: false\r\n                    })\r\n                }\r\n            })\r\n    }\r\n    // 属性函数化\r\n    propertyEdit = (keyword) => {\r\n        const item = this.state.data\r\n        const isEdit = this.state.isEdit\r\n        return (isEdit)\r\n            ?\r\n            <Input className='editInput' defaultValue={item[keyword]} onChange={this[`${keyword}Change`]} ref={elev => { this[`${keyword}Elev`] = elev }} />\r\n            :\r\n            item[keyword]\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.setState({\r\n            data: this.props.data\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const item = this.state.data\r\n        const isEdit = this.state.isEdit\r\n        return (\r\n            <Card\r\n                style={{ width: 307, height: 375, margin: '0 auto' }}\r\n                cover={\r\n                    <Image\r\n                        alt=\"图片出错\"\r\n                        src={item.src}\r\n                        height={186}\r\n                        width={307}\r\n                        preview={false}\r\n                    />\r\n                }\r\n                actions={[\r\n                    (isEdit)\r\n                        ?\r\n                        <Button type='primary' size=\"small\" style={{ borderRadius: 5 }} onClick={this.comfimEdit}>确认</Button>\r\n                        :\r\n                        <EditOutlined key=\"edit\" onClick={this.edit} />,\r\n                    <Popconfirm\r\n                        title=\"确定删除该商品吗?\"\r\n                        onConfirm={this.delete.bind(this, item.id)}\r\n                        okText=\"确认\"\r\n                        cancelText=\"取消\"\r\n                    >\r\n                        <CloseOutlined key=\"ellipsis\" />\r\n                    </Popconfirm>\r\n                ]}\r\n            // loading={true}\r\n            >\r\n                <p style={{ margin: '10PX 0 0 0 ', fontWeight: 900, fontSize: 18, textAlign: 'center' }}>{item.commodityName}</p>\r\n                <div className='detailWraper'>\r\n                    <div className='detail'>编号: {item.cid}\r\n                    </div>\r\n                    <Divider style={{ margin: 0 }} />\r\n                    <div className='detail'>现价: {this.propertyEdit('currentPrice')}元</div>\r\n                    <Divider style={{ margin: 0 }} />\r\n                    <div className='detail'>库存: {this.propertyEdit('inventory')}件 </div>\r\n                    <Divider style={{ margin: 0 }} />\r\n                    <div className='detail'>规格: {item.weight}g </div>\r\n                </div>\r\n                <div className='detailWraper'>\r\n                    <div className='detail' title={item.category}>分类: {item.category} </div>\r\n                    <Divider style={{ margin: 0 }} />\r\n                    <div className='detail'>原价: {this.propertyEdit('originalPrice')}元 </div>\r\n                    <Divider style={{ margin: 0 }} />\r\n                    <div className='detail'>销量: {item.salesVolume}件 </div>\r\n                    <Divider style={{ margin: 0 }} />\r\n                    <div className='detail'>产地: {item.originalPlace} </div>\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}