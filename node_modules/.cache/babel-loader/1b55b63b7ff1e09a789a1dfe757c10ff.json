{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\cloud-supermarket-management-system\\\\src\\\\components\\\\Content\\\\Uim\\\\Uim.jsx\";\nimport React, { Component } from 'react';\nimport { Descriptions, Divider, Breadcrumb, Table, Button, message, Popconfirm } from 'antd';\nimport reqwest from 'reqwest';\nimport axios from 'axios';\nimport { BrowserRouter, Link, Route, Switch } from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport './index.css';\nimport UimChangePassword from '../../../utils/UimChangePassword/UimChangePassword';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst getRandomuserParams = params => ({\n  current: params.pagination.current,\n  pageSize: params.pagination.pageSize,\n  ...params\n});\n\nexport default class Uim extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      pagination: {\n        current: 1,\n        pageSize: 5\n      },\n      loading: false,\n      status: 0\n    };\n    this.columns = [{\n      title: 'id',\n      dataIndex: 'id',\n      key: 'id',\n      defaultSortOrder: 'ascend',\n      sorter: (a, b) => a.id - b.id\n    }, {\n      title: '账号',\n      dataIndex: 'account',\n      key: 'account'\n    }, {\n      title: '密码',\n      dataIndex: 'password',\n      key: 'password'\n    }, {\n      title: '操作',\n      dataIndex: 'id',\n      key: 'id',\n      render: id => {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            style: {\n              borderRadius: 5\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/home/uim/changepassword/${id}`,\n              children: \"\\u66F4\\u6539\\u5BC6\\u7801\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            style: {\n              borderRadius: 5,\n              marginLeft: 20\n            },\n            danger: true,\n            children: /*#__PURE__*/_jsxDEV(Popconfirm, {\n              title: \"\\u786E\\u5B9A\\u5220\\u9664\\u8BE5\\u7528\\u6237\\u5417?\",\n              onConfirm: this.confirm.bind(this, id),\n              okText: \"\\u786E\\u8BA4\",\n              cancelText: \"\\u53D6\\u6D88\",\n              children: \"\\u5220\\u9664\\u7528\\u6237\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true);\n      }\n    }];\n\n    this.handleTableChange = pagination => {\n      console.log(pagination);\n      let {\n        current,\n        pageSize\n      } = pagination; // console.log(pagination)\n\n      this.setState({\n        pagination: {\n          current,\n          pageSize\n        }\n      });\n      this.fetch({\n        pagination\n      });\n    };\n\n    this.fetch = (params = {}) => {\n      this.setState({\n        loading: true\n      });\n      reqwest({\n        // 后端接口\n        url: '/userlist',\n        method: 'post',\n        type: 'json',\n        // 传递给后端的数据\n        data: getRandomuserParams(params)\n      }).then(data => {\n        console.log(\"\" + data);\n        this.setState({\n          loading: false,\n          // 根据接口返回的数据源\n          data: data.results,\n          pagination: { ...params.pagination,\n            // 根据接口返回的总条数\n            total: data.total\n          }\n        });\n      });\n    };\n\n    this.UimChangePasswordComponent = props => {\n      let id = props.match.params.id * 1;\n      let dataitem = this.state.data.filter(item => {\n        if (item.id === id) {\n          return item;\n        }\n      });\n      return /*#__PURE__*/_jsxDEV(UimChangePassword, {\n        data: dataitem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 16\n      }, this);\n    };\n  }\n\n  confirm(id) {\n    let {\n      current,\n      pageSize\n    } = this.state.pagination;\n    const data = {\n      id: id,\n      current,\n      pageSize\n    };\n    reqwest({\n      // 后端接口\n      url: '/deleteuser',\n      method: 'post',\n      type: 'json',\n      // 传递给后端的数据\n      data: data\n    }) //根据返回的状态码status判断是否删除用户成功\n    .then(res => {\n      console.log(res);\n      this.setState({\n        data: res.results\n      });\n      message.success('删除成功');\n    }, () => {\n      message.error('删除失败');\n    });\n  }\n\n  componentDidMount() {\n    const {\n      pagination\n    } = this.state;\n    this.fetch({\n      pagination\n    });\n  }\n\n  render() {\n    const {\n      data,\n      pagination,\n      loading\n    } = this.state;\n\n    function TableComponent() {\n      return /*#__PURE__*/_jsxDEV(Table, {\n        columns: this.columns,\n        rowKey: record => record.login,\n        dataSource: data,\n        pagination: pagination,\n        loading: loading,\n        onChange: this.handleTableChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Divider, {\n        style: {\n          margin: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"descwraper\",\n        children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n          className: \"bdc\",\n          children: [/*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/home\",\n              children: \"\\u4E3B\\u9875\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n            children: \"\\u7528\\u6237\\u4FE1\\u606F\\u7BA1\\u7406\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Descriptions, {\n          title: \"\\u7528\\u6237\\u5217\\u8868\",\n          className: \"desc\",\n          children: /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n            children: \"\\u7528\\u6237\\u4FE1\\u606F\\u5C55\\u793A\\uFF0C\\u53EF\\u8FDB\\u884C\\u7528\\u6237\\u5BC6\\u7801\\u4FEE\\u6539\\u548C\\u5220\\u9664\\u7528\\u6237\\u64CD\\u4F5C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contentWraper\",\n        children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/home/uim/changepassword/:id?\",\n              component: this.UimChangePasswordComponent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/home/uim\",\n              component: TableComponent.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/code/cloud-supermarket-management-system/src/components/Content/Uim/Uim.jsx"],"names":["React","Component","Descriptions","Divider","Breadcrumb","Table","Button","message","Popconfirm","reqwest","axios","BrowserRouter","Link","Route","Switch","UimChangePassword","getRandomuserParams","params","current","pagination","pageSize","Uim","state","data","loading","status","columns","title","dataIndex","key","defaultSortOrder","sorter","a","b","id","render","borderRadius","marginLeft","confirm","bind","handleTableChange","console","log","setState","fetch","url","method","type","then","results","total","UimChangePasswordComponent","props","match","dataitem","filter","item","res","success","error","componentDidMount","TableComponent","record","login","margin"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAkC,OAAlC;AACA,SAASC,YAAT,EAAuBC,OAAvB,EAAgCC,UAAhC,EAA4CC,KAA5C,EAAmDC,MAAnD,EAA2DC,OAA3D,EAAoEC,UAApE,QAAsF,MAAtF;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,IAAxB,EAA8BC,KAA9B,EAAqCC,MAArC,QAAoD,kBAApD;AACA,OAAO,oBAAP;AACA,OAAO,aAAP;AACA,OAAOC,iBAAP,MAA8B,oDAA9B;;;;AAGA,MAAMC,mBAAmB,GAAGC,MAAM,KAAK;AACnCC,EAAAA,OAAO,EAAED,MAAM,CAACE,UAAP,CAAkBD,OADQ;AAEnCE,EAAAA,QAAQ,EAAEH,MAAM,CAACE,UAAP,CAAkBC,QAFO;AAGnC,KAAGH;AAHgC,CAAL,CAAlC;;AAMA,eAAe,MAAMI,GAAN,SAAkBpB,SAAlB,CAA4B;AAAA;AAAA;AAAA,SACvCqB,KADuC,GAC/B;AACJC,MAAAA,IAAI,EAAE,EADF;AAEJJ,MAAAA,UAAU,EAAE;AACRD,QAAAA,OAAO,EAAE,CADD;AAERE,QAAAA,QAAQ,EAAE;AAFF,OAFR;AAMJI,MAAAA,OAAO,EAAE,KANL;AAOJC,MAAAA,MAAM,EAAE;AAPJ,KAD+B;AAAA,SAkCvCC,OAlCuC,GAkC7B,CACN;AACIC,MAAAA,KAAK,EAAE,IADX;AAEIC,MAAAA,SAAS,EAAE,IAFf;AAGIC,MAAAA,GAAG,EAAE,IAHT;AAIIC,MAAAA,gBAAgB,EAAE,QAJtB;AAKIC,MAAAA,MAAM,EAAE,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,EAAF,GAAOD,CAAC,CAACC;AAL/B,KADM,EAQN;AACIP,MAAAA,KAAK,EAAE,IADX;AAEIC,MAAAA,SAAS,EAAE,SAFf;AAGIC,MAAAA,GAAG,EAAE;AAHT,KARM,EAaN;AACIF,MAAAA,KAAK,EAAE,IADX;AAEIC,MAAAA,SAAS,EAAE,UAFf;AAGIC,MAAAA,GAAG,EAAE;AAHT,KAbM,EAkBN;AACIF,MAAAA,KAAK,EAAE,IADX;AAEIC,MAAAA,SAAS,EAAE,IAFf;AAGIC,MAAAA,GAAG,EAAE,IAHT;AAIIM,MAAAA,MAAM,EAAGD,EAAD,IAAQ;AACZ,4BACI;AAAA,kCACI,QAAC,MAAD;AACI,YAAA,IAAI,EAAC,SADT;AAEI,YAAA,KAAK,EAAE;AAAEE,cAAAA,YAAY,EAAE;AAAhB,aAFX;AAAA,mCAII,QAAC,IAAD;AAAM,cAAA,EAAE,EAAG,4BAA2BF,EAAG,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eASI,QAAC,MAAD;AACI,YAAA,IAAI,EAAC,SADT;AAEI,YAAA,KAAK,EAAE;AAAEE,cAAAA,YAAY,EAAE,CAAhB;AAAmBC,cAAAA,UAAU,EAAE;AAA/B,aAFX;AAGI,YAAA,MAAM,MAHV;AAAA,mCAKI,QAAC,UAAD;AACI,cAAA,KAAK,EAAC,mDADV;AAEI,cAAA,SAAS,EAAE,KAAKC,OAAL,CAAaC,IAAb,CAAkB,IAAlB,EAAwBL,EAAxB,CAFf;AAGI,cAAA,MAAM,EAAC,cAHX;AAII,cAAA,UAAU,EAAC,cAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,kBATJ;AAAA,wBADJ;AA0BH;AA/BL,KAlBM,CAlC6B;;AAAA,SA4FvCM,iBA5FuC,GA4FlBrB,UAAD,IAAgB;AAChCsB,MAAAA,OAAO,CAACC,GAAR,CAAYvB,UAAZ;AACA,UAAI;AAAED,QAAAA,OAAF;AAAWE,QAAAA;AAAX,UAAwBD,UAA5B,CAFgC,CAGhC;;AACA,WAAKwB,QAAL,CAAc;AACVxB,QAAAA,UAAU,EAAE;AACRD,UAAAA,OADQ;AAERE,UAAAA;AAFQ;AADF,OAAd;AAMA,WAAKwB,KAAL,CAAW;AACPzB,QAAAA;AADO,OAAX;AAGH,KAzGsC;;AAAA,SA2GvCyB,KA3GuC,GA2G/B,CAAC3B,MAAM,GAAG,EAAV,KAAiB;AACrB,WAAK0B,QAAL,CAAc;AAAEnB,QAAAA,OAAO,EAAE;AAAX,OAAd;AACAf,MAAAA,OAAO,CAAC;AACJ;AACAoC,QAAAA,GAAG,EAAE,WAFD;AAGJC,QAAAA,MAAM,EAAE,MAHJ;AAIJC,QAAAA,IAAI,EAAE,MAJF;AAKJ;AACAxB,QAAAA,IAAI,EAAEP,mBAAmB,CAACC,MAAD;AANrB,OAAD,CAAP,CAQK+B,IARL,CAQUzB,IAAI,IAAI;AACVkB,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAGnB,IAAf;AACA,aAAKoB,QAAL,CAAc;AACVnB,UAAAA,OAAO,EAAE,KADC;AAEV;AACAD,UAAAA,IAAI,EAAEA,IAAI,CAAC0B,OAHD;AAIV9B,UAAAA,UAAU,EAAE,EACR,GAAGF,MAAM,CAACE,UADF;AAER;AACA+B,YAAAA,KAAK,EAAE3B,IAAI,CAAC2B;AAHJ;AAJF,SAAd;AAUH,OApBL;AAsBH,KAnIsC;;AAAA,SAqIvCC,0BArIuC,GAqITC,KAAD,IAAW;AACpC,UAAIlB,EAAE,GAAGkB,KAAK,CAACC,KAAN,CAAYpC,MAAZ,CAAmBiB,EAAnB,GAAwB,CAAjC;AACA,UAAIoB,QAAQ,GAAG,KAAKhC,KAAL,CAAWC,IAAX,CAAgBgC,MAAhB,CAAuBC,IAAI,IAAI;AAC1C,YAAIA,IAAI,CAACtB,EAAL,KAAYA,EAAhB,EAAoB;AAChB,iBAAOsB,IAAP;AACH;AACJ,OAJc,CAAf;AAKA,0BAAO,QAAC,iBAAD;AAAmB,QAAA,IAAI,EAAEF;AAAzB;AAAA;AAAA;AAAA;AAAA,cAAP;AACH,KA7IsC;AAAA;;AAWvChB,EAAAA,OAAO,CAACJ,EAAD,EAAK;AACR,QAAI;AAAEhB,MAAAA,OAAF;AAAWE,MAAAA;AAAX,QAAwB,KAAKE,KAAL,CAAWH,UAAvC;AACA,UAAMI,IAAI,GAAG;AAAEW,MAAAA,EAAE,EAAEA,EAAN;AAAUhB,MAAAA,OAAV;AAAmBE,MAAAA;AAAnB,KAAb;AACAX,IAAAA,OAAO,CAAC;AACJ;AACAoC,MAAAA,GAAG,EAAE,aAFD;AAGJC,MAAAA,MAAM,EAAE,MAHJ;AAIJC,MAAAA,IAAI,EAAE,MAJF;AAKJ;AACAxB,MAAAA,IAAI,EAAEA;AANF,KAAD,CAAP,CAQI;AARJ,KASKyB,IATL,CASUS,GAAG,IAAI;AACThB,MAAAA,OAAO,CAACC,GAAR,CAAYe,GAAZ;AACA,WAAKd,QAAL,CAAc;AACVpB,QAAAA,IAAI,EAAEkC,GAAG,CAACR;AADA,OAAd;AAGA1C,MAAAA,OAAO,CAACmD,OAAR,CAAgB,MAAhB;AACH,KAfL,EAeO,MAAM;AACLnD,MAAAA,OAAO,CAACoD,KAAR,CAAc,MAAd;AACH,KAjBL;AAkBH;;AAuDDC,EAAAA,iBAAiB,GAAG;AAChB,UAAM;AAAEzC,MAAAA;AAAF,QAAiB,KAAKG,KAA5B;AACA,SAAKsB,KAAL,CAAW;AAAEzB,MAAAA;AAAF,KAAX;AACH;;AAqDDgB,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEZ,MAAAA,IAAF;AAAQJ,MAAAA,UAAR;AAAoBK,MAAAA;AAApB,QAAgC,KAAKF,KAA3C;;AACA,aAASuC,cAAT,GAA0B;AACtB,0BAAO,QAAC,KAAD;AACH,QAAA,OAAO,EAAE,KAAKnC,OADX;AAEH,QAAA,MAAM,EAAEoC,MAAM,IAAIA,MAAM,CAACC,KAFtB;AAGH,QAAA,UAAU,EAAExC,IAHT;AAIH,QAAA,UAAU,EAAEJ,UAJT;AAKH,QAAA,OAAO,EAAEK,OALN;AAMH,QAAA,QAAQ,EAAE,KAAKgB;AANZ;AAAA;AAAA;AAAA;AAAA,cAAP;AAQH;;AACD,wBACI;AAAA,8BACI,QAAC,OAAD;AAAS,QAAA,KAAK,EAAE;AAAEwB,UAAAA,MAAM,EAAE;AAAV;AAAhB;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACI,QAAC,UAAD;AAAY,UAAA,SAAS,EAAC,KAAtB;AAAA,kCACI,QAAC,UAAD,CAAY,IAAZ;AAAA,mCACI;AAAG,cAAA,IAAI,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII,QAAC,UAAD,CAAY,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAOI,QAAC,YAAD;AAAc,UAAA,KAAK,EAAC,0BAApB;AAA2B,UAAA,SAAS,EAAC,MAArC;AAAA,iCACI,QAAC,YAAD,CAAc,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAaI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,+BACI,QAAC,aAAD;AAAA,iCACI,QAAC,MAAD;AAAA,oCACI,QAAC,KAAD;AAAO,cAAA,IAAI,EAAC,+BAAZ;AAA4C,cAAA,SAAS,EAAE,KAAKb;AAA5D;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,QAAC,KAAD;AAAO,cAAA,IAAI,EAAC,WAAZ;AAAwB,cAAA,SAAS,EAAEU,cAAc,CAACtB,IAAf,CAAoB,IAApB;AAAnC;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAwBH;;AAnLsC","sourcesContent":["import React, { Component, } from 'react'\r\nimport { Descriptions, Divider, Breadcrumb, Table, Button, message, Popconfirm } from 'antd';\r\nimport reqwest from 'reqwest';\r\nimport axios from 'axios';\r\nimport { BrowserRouter, Link, Route, Switch, } from 'react-router-dom'\r\nimport 'antd/dist/antd.css'\r\nimport './index.css'\r\nimport UimChangePassword from '../../../utils/UimChangePassword/UimChangePassword'\r\n\r\n\r\nconst getRandomuserParams = params => ({\r\n    current: params.pagination.current,\r\n    pageSize: params.pagination.pageSize,\r\n    ...params,\r\n});\r\n\r\nexport default class Uim extends Component {\r\n    state = {\r\n        data: [],\r\n        pagination: {\r\n            current: 1,\r\n            pageSize: 5\r\n        },\r\n        loading: false,\r\n        status: 0\r\n    };\r\n\r\n    confirm(id) {\r\n        let { current, pageSize } = this.state.pagination\r\n        const data = { id: id, current, pageSize }\r\n        reqwest({\r\n            // 后端接口\r\n            url: '/deleteuser',\r\n            method: 'post',\r\n            type: 'json',\r\n            // 传递给后端的数据\r\n            data: data,\r\n        })\r\n            //根据返回的状态码status判断是否删除用户成功\r\n            .then(res => {\r\n                console.log(res)\r\n                this.setState({\r\n                    data: res.results\r\n                })\r\n                message.success('删除成功');\r\n            }, () => {\r\n                message.error('删除失败');\r\n            })\r\n    }\r\n\r\n    columns = [\r\n        {\r\n            title: 'id',\r\n            dataIndex: 'id',\r\n            key: 'id',\r\n            defaultSortOrder: 'ascend',\r\n            sorter: (a, b) => a.id - b.id,\r\n        },\r\n        {\r\n            title: '账号',\r\n            dataIndex: 'account',\r\n            key: 'account'\r\n        },\r\n        {\r\n            title: '密码',\r\n            dataIndex: 'password',\r\n            key: 'password',\r\n        },\r\n        {\r\n            title: '操作',\r\n            dataIndex: 'id',\r\n            key: 'id',\r\n            render: (id) => {\r\n                return (\r\n                    <>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            style={{ borderRadius: 5 }}\r\n                        >\r\n                            <Link to={`/home/uim/changepassword/${id}`}>\r\n                                更改密码\r\n                            </Link>\r\n                        </Button>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            style={{ borderRadius: 5, marginLeft: 20 }}\r\n                            danger\r\n                        >\r\n                            <Popconfirm\r\n                                title=\"确定删除该用户吗?\"\r\n                                onConfirm={this.confirm.bind(this, id)}\r\n                                okText=\"确认\"\r\n                                cancelText=\"取消\"\r\n                            >\r\n                                删除用户\r\n                            </Popconfirm>\r\n                        </Button>\r\n                    </>\r\n                )\r\n            }\r\n        },\r\n    ];\r\n\r\n    componentDidMount() {\r\n        const { pagination } = this.state;\r\n        this.fetch({ pagination });\r\n    }\r\n\r\n    handleTableChange = (pagination) => {\r\n        console.log(pagination)\r\n        let { current, pageSize } = pagination\r\n        // console.log(pagination)\r\n        this.setState({\r\n            pagination: {\r\n                current,\r\n                pageSize\r\n            }\r\n        })\r\n        this.fetch({\r\n            pagination,\r\n        });\r\n    };\r\n\r\n    fetch = (params = {}) => {\r\n        this.setState({ loading: true });\r\n        reqwest({\r\n            // 后端接口\r\n            url: '/userlist',\r\n            method: 'post',\r\n            type: 'json',\r\n            // 传递给后端的数据\r\n            data: getRandomuserParams(params),\r\n        })\r\n            .then(data => {\r\n                console.log(\"\"+data);\r\n                this.setState({\r\n                    loading: false,\r\n                    // 根据接口返回的数据源\r\n                    data: data.results,\r\n                    pagination: {\r\n                        ...params.pagination,\r\n                        // 根据接口返回的总条数\r\n                        total: data.total,\r\n                    },\r\n                });\r\n            })\r\n            ;\r\n    };\r\n\r\n    UimChangePasswordComponent = (props) => {\r\n        let id = props.match.params.id * 1\r\n        let dataitem = this.state.data.filter(item => {\r\n            if (item.id === id) {\r\n                return item\r\n            }\r\n        })\r\n        return <UimChangePassword data={dataitem} />\r\n    }\r\n\r\n    render() {\r\n        const { data, pagination, loading } = this.state;\r\n        function TableComponent() {\r\n            return <Table\r\n                columns={this.columns}\r\n                rowKey={record => record.login}\r\n                dataSource={data}\r\n                pagination={pagination}\r\n                loading={loading}\r\n                onChange={this.handleTableChange}\r\n            />\r\n        }\r\n        return (\r\n            <div>\r\n                <Divider style={{ margin: 0 }} />\r\n                <div className=\"descwraper\">\r\n                    <Breadcrumb className=\"bdc\">\r\n                        <Breadcrumb.Item>\r\n                            <a href=\"/home\">主页</a>\r\n                        </Breadcrumb.Item>\r\n                        <Breadcrumb.Item>用户信息管理</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    <Descriptions title=\"用户列表\" className=\"desc\">\r\n                        <Descriptions.Item>用户信息展示，可进行用户密码修改和删除用户操作</Descriptions.Item>\r\n                    </Descriptions>\r\n                </div>\r\n                <div className=\"contentWraper\">\r\n                    <BrowserRouter>\r\n                        <Switch>\r\n                            <Route path='/home/uim/changepassword/:id?' component={this.UimChangePasswordComponent} />\r\n                            <Route path='/home/uim' component={TableComponent.bind(this)} />\r\n                        </Switch>\r\n                    </BrowserRouter>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}