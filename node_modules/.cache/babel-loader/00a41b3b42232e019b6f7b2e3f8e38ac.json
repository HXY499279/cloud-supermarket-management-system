{"ast":null,"code":"import _objectSpread from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Form,Input,Button,message,PageHeader}from'antd';import'./index.css';import reqwest from'reqwest';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var layout={labelCol:{span:9},wrapperCol:{span:5}};var tailLayout={wrapperCol:{offset:10,span:16}};var UimChangePassword=/*#__PURE__*/function(_Component){_inherits(UimChangePassword,_Component);var _super=_createSuper(UimChangePassword);function UimChangePassword(props){var _this;_classCallCheck(this,UimChangePassword);_this=_super.call(this,props);_this.onFinish=function(predata,newdata){if(newdata.modifiedpassword===predata.upassword){message.warning(\"密码未修改！\");}else{console.log(newdata);reqwest({// 后端接口\nurl:'/modifypassword',method:'post',type:'json',// 传递给后端的数据\ndata:newdata}).then(function(res){if(res.status==='success'){message.success(\"密码修改成功！\");window.location.href='/home/uim';}else{message.error(\"密码修改失败！\");window.location.href='/home/uim';}});}};_this.componentWillMount=function(){console.log(_this.props);_this.setState({data:_this.props.data[0]});};_this.state={data:{uid:1,account:\"\",upassword:\"\"}};return _this;}_createClass(UimChangePassword,[{key:\"render\",value:function render(){var _this$state$data=this.state.data,data=_this$state$data===void 0?{uid:1,account:\"\",upassword:\"\"}:_this$state$data;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PageHeader,{className:\"site-page-header\",onBack:function onBack(){window.location.href='/home/uim';},subTitle:\"\\u7528\\u6237\\u4FE1\\u606F\\u7BA1\\u7406/\\u4FEE\\u6539\\u7528\\u6237\\u5BC6\\u7801\",style:{paddingLeft:10,backgroundColor:'white'}}),/*#__PURE__*/_jsxs(Form,_objectSpread(_objectSpread({},layout),{},{id:\"changePasswordFrom\",name:\"basic\",initialValues:{remember:true},size:\"large\",onFinish:this.onFinish.bind(this,data),children:[/*#__PURE__*/_jsx(Form.Item,{label:\"uid\",name:\"uid\",required:false,initialValue:\"\".concat(data.uid),hidden:true,children:/*#__PURE__*/_jsx(Input,{hidden:true})}),/*#__PURE__*/_jsxs(Form.Item,{label:\"\\u7528\\u6237\\u540D\\u79F0\",name:\"username\",required:false,initialValue:\"\".concat(data.account),children:[/*#__PURE__*/_jsx(Input,{hidden:true}),data.account]}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\u7528\\u6237\\u5BC6\\u7801\",name:\"modifiedpassword\",required:false,initialValue:\"\".concat(data.upassword),children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,_objectSpread(_objectSpread({},tailLayout),{},{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",style:{borderRadius:5},children:\"\\u63D0\\u4EA4\\u4FEE\\u6539\"})}))]}))]});}}]);return UimChangePassword;}(Component);export{UimChangePassword as default};","map":{"version":3,"sources":["D:/code/cloud-supermarket-management-system/src/utils/UimChangePassword/UimChangePassword.jsx"],"names":["React","Component","Form","Input","Button","message","PageHeader","reqwest","layout","labelCol","span","wrapperCol","tailLayout","offset","UimChangePassword","props","onFinish","predata","newdata","modifiedpassword","upassword","warning","console","log","url","method","type","data","then","res","status","success","window","location","href","error","componentWillMount","setState","state","uid","account","paddingLeft","backgroundColor","remember","bind","borderRadius"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Form, Input, Button, message, PageHeader } from 'antd';\r\nimport './index.css'\r\nimport reqwest from 'reqwest';\r\n\r\nconst layout = {\r\n    labelCol: { span: 9 },\r\n    wrapperCol: { span: 5 },\r\n};\r\nconst tailLayout = {\r\n    wrapperCol: { offset: 10, span: 16 },\r\n};\r\n\r\n\r\nexport default class UimChangePassword extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            data: {\r\n                uid: 1,\r\n                account: \"\",\r\n                upassword: \"\"\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    onFinish = (predata, newdata) => {\r\n        if (newdata.modifiedpassword === predata.upassword) {\r\n            message.warning(\"密码未修改！\")\r\n        } else {\r\n            console.log(newdata)\r\n            reqwest({\r\n                // 后端接口\r\n                url: '/modifypassword',\r\n                method: 'post',\r\n                type: 'json',\r\n                // 传递给后端的数据\r\n                data: newdata,\r\n            })\r\n                .then(res => {\r\n                    if (res.status === 'success') {\r\n                        message.success(\"密码修改成功！\")\r\n                        window.location.href = '/home/uim'\r\n                    } else {\r\n                        message.error(\"密码修改失败！\")\r\n                        window.location.href = '/home/uim'\r\n                    }\r\n                })\r\n        }\r\n    };\r\n\r\n    componentWillMount = () => {\r\n        console.log(this.props)\r\n        this.setState({\r\n            data: this.props.data[0]\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { data = {\r\n            uid: 1,\r\n            account: \"\",\r\n            upassword: \"\"\r\n        } } = this.state\r\n        return (\r\n            <div>\r\n                <PageHeader\r\n                    className=\"site-page-header\"\r\n                    onBack={() => { window.location.href = '/home/uim' }}\r\n                    subTitle=\"用户信息管理/修改用户密码\"\r\n                    style={{ paddingLeft: 10, backgroundColor: 'white' }}\r\n                />\r\n                {/* <div style={{ backgroundColor: 'white', paddingTop: 9, paddingLeft: 10 }}>\r\n                    <Link to='/home/uim'>\r\n                        <ArrowLeftOutlined style={{ fontSize: 20 }} />\r\n                    </Link>\r\n                </div> */}\r\n                <Form\r\n                    {...layout}\r\n                    id=\"changePasswordFrom\"\r\n                    name=\"basic\"\r\n                    initialValues={{ remember: true }}\r\n                    size='large'\r\n                    onFinish={this.onFinish.bind(this, data)}\r\n                >\r\n                    <Form.Item\r\n                        label=\"uid\"\r\n                        name=\"uid\"\r\n                        required={false}\r\n                        initialValue={`${data.uid}`}\r\n                        hidden\r\n                    >\r\n                        <Input hidden />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        label=\"用户名称\"\r\n                        name=\"username\"\r\n                        required={false}\r\n                        initialValue={`${data.account}`}\r\n                    >\r\n                        <Input hidden />\r\n                        {data.account}\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"用户密码\"\r\n                        name=\"modifiedpassword\"\r\n                        required={false}\r\n                        initialValue={`${data.upassword}`}\r\n                    >\r\n                        <Input.Password  />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item {...tailLayout}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ borderRadius: 5 }}\r\n                        >\r\n                            提交修改\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}