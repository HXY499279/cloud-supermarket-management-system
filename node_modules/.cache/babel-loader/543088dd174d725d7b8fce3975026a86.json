{"ast":null,"code":"import { each } from '@antv/util';\n/**\n * @ignore\n * 根据图形元素以及 label 的 bbox 进行调整，如果 label 超出了 shape 的 bbox 则不展示\n */\n\nexport function limitInShape(items, labels, shapes, region) {\n  each(labels, function (label, index) {\n    var labelBBox = label.getCanvasBBox(); // 文本有可能发生旋转\n\n    var shapeBBox = shapes[index].getBBox();\n\n    if (labelBBox.minX < shapeBBox.minX || labelBBox.minY < shapeBBox.minY || labelBBox.maxX > shapeBBox.maxX || labelBBox.maxY > shapeBBox.maxY) {\n      label.remove(true); // 超出则不展示\n    }\n  });\n}","map":{"version":3,"sources":["../../../../src/geometry/label/layout/limit-in-shape.ts"],"names":[],"mappings":"AAAA,SAAS,IAAT,QAAqB,YAArB;AAIA;;;AAGG;;AACH,OAAM,SAAU,YAAV,CAAuB,KAAvB,EAA2C,MAA3C,EAA6D,MAA7D,EAA0F,MAA1F,EAAsG;AAC1G,EAAA,IAAI,CAAC,MAAD,EAAS,UAAC,KAAD,EAAQ,KAAR,EAAa;AACxB,QAAM,SAAS,GAAG,KAAK,CAAC,aAAN,EAAlB,CADwB,CACiB;;AACzC,QAAM,SAAS,GAAG,MAAM,CAAC,KAAD,CAAN,CAAc,OAAd,EAAlB;;AACA,QACE,SAAS,CAAC,IAAV,GAAiB,SAAS,CAAC,IAA3B,IACA,SAAS,CAAC,IAAV,GAAiB,SAAS,CAAC,IAD3B,IAEA,SAAS,CAAC,IAAV,GAAiB,SAAS,CAAC,IAF3B,IAGA,SAAS,CAAC,IAAV,GAAiB,SAAS,CAAC,IAJ7B,EAKE;AACA,MAAA,KAAK,CAAC,MAAN,CAAa,IAAb,EADA,CACoB;AACrB;AACF,GAXG,CAAJ;AAYD","sourcesContent":["import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n * 根据图形元素以及 label 的 bbox 进行调整，如果 label 超出了 shape 的 bbox 则不展示\n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // 文本有可能发生旋转\n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // 超出则不展示\n    }\n  });\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}