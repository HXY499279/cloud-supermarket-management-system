{"ast":null,"code":"import _objectSpread from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/code/cloud-supermarket-management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Form,Input,InputNumber,Button,message,PageHeader,Select,Upload}from'antd';import{nanoid}from'nanoid';import axios from'axios';import'./index.css';import reqwest from'reqwest';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var layout={labelCol:{span:8},wrapperCol:{span:6}};var tailLayout={wrapperCol:{offset:10,span:16}};var Option=Select.Option;var CimAddCommodity=/*#__PURE__*/function(_Component){_inherits(CimAddCommodity,_Component);var _super=_createSuper(CimAddCommodity);function CimAddCommodity(){var _this;_classCallCheck(this,CimAddCommodity);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={subCategory:[]};_this.property={name:'file',headers:{authorization:'authorization-text'},beforeUpload:function beforeUpload(){return false;},maxCount:1};_this.onFinish=function(data){// 处理空格\ndata.commodityName=data.commodityName.toString().replace(/\\s/,'');data.originalPlace=data.originalPlace.toString().replace(/\\s/,'');data.currentPrice=data.originalPrice;data.status=\"在售\";data.salesVolume=0;data.file=data.file.file;var formData=new FormData();formData.append(\"commodityName\",data.commodityName);formData.append(\"inventory\",data.inventory);formData.append(\"originalPrice\",data.originalPrice);formData.append(\"currentPrice\",data.currentPrice);formData.append(\"originalPlace\",data.originalPlace);formData.append(\"weight\",data.weight);formData.append(\"category\",data.category);formData.append(\"status\",data.status);formData.append(\"salesVolume\",data.salesVolume);formData.append(\"file\",data.file);axios({// 后端接口\nurl:'/addcommodity',method:'post',// 传递给后端的数据\ndata:formData}).then(function(res){console.log(res);message.success(\"商品添加成功！\");window.location.href='/home/cim';},function(){message.error(\"商品添加失败！\");});};_this.showCategoryList=function(){return _this.state.subCategory.map(function(item,index){return/*#__PURE__*/_jsx(Option,{value:\"\".concat(item.category),children:item.category},nanoid());});};_this.categorySelectChange=function(e){_this.categorySelect.value=e;};_this.handleFileChange=function(e){console.log(e.target.files[0]);};_this.componentDidMount=function(){// 请求分类列表\nreqwest({url:'/category/allcategory',method:'get',type:'json'}).then(function(res){// console.log(res.results)\n_this.setState({subCategory:res});});};return _this;}_createClass(CimAddCommodity,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"contentWraper\",style:{minHeight:0},children:[/*#__PURE__*/_jsx(PageHeader,{className:\"site-page-header\",onBack:function onBack(){window.location.href='/home/cim';},subTitle:\"\\u5546\\u54C1\\u4FE1\\u606F\\u7BA1\\u7406/\\u65B0\\u589E\\u5546\\u54C1\",style:{paddingLeft:10,backgroundColor:'white'}}),/*#__PURE__*/_jsxs(Form,_objectSpread(_objectSpread({},layout),{},{id:\"addCommodityForm\",name:\"basic\",size:\"large\",initialValues:{remember:true},onFinish:this.onFinish,children:[/*#__PURE__*/_jsx(Form.Item,{label:\"\\u5546\\u54C1\\u540D\\u79F0\",name:\"commodityName\",required:false,rules:[{required:true,message:'请输入商品名称！'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\u5546\\u54C1\\u5206\\u7C7B\",name:\"category\",required:false,rules:[{required:true,message:'请选择商品分类！'}],children:/*#__PURE__*/_jsx(Select,{name:\"category\",style:{width:'100%'}// defaultValue='onsale'\n,ref:function ref(elev){_this2.categorySelect=elev;},onChange:this.categorySelectChange,children:this.showCategoryList()})}),/*#__PURE__*/_jsx(Form.Item,{hidden:true,name:\"status\",children:/*#__PURE__*/_jsx(Input,{value:\"\"})}),/*#__PURE__*/_jsx(Form.Item,{hidden:true,label:\"\\u5546\\u54C1\\u552E\\u4EF7\",name:\"currentPrice\"// required={false}\n// rules={[{ required: true, message: '请输入商品售价！' }]}\n,children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\u5546\\u54C1\\u4EF7\\u683C\",name:\"originalPrice\",required:false,rules:[{required:true,message:'请输入商品原价！'}],children:/*#__PURE__*/_jsx(InputNumber,{className:\"input-number\",min:0})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\u5546\\u54C1\\u5E93\\u5B58\",name:\"inventory\",required:false,rules:[{required:true,message:'请输入商品库存！'}],children:/*#__PURE__*/_jsx(InputNumber,{className:\"input-number\",min:0})}),/*#__PURE__*/_jsx(Form.Item,{hidden:true,name:\"salesVolume\",children:/*#__PURE__*/_jsx(Input,{value:\"\"})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\u5546\\u54C1\\u89C4\\u683C\",name:\"weight\",required:false,rules:[{required:true,message:'请输入商品规格！'}],children:/*#__PURE__*/_jsx(InputNumber,{className:\"input-number\",min:0})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\u5546\\u54C1\\u4EA7\\u5730\",name:\"originalPlace\",required:false,rules:[{required:true,message:'请输入商品产地！'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\u5546\\u54C1\\u56FE\\u7247\",name:\"file\",required:false,rules:[{required:true,message:'请上传商品图片！'}],children:/*#__PURE__*/_jsx(Upload,_objectSpread(_objectSpread({},this.property),{},{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"middle\",style:{borderRadius:5},children:\"\\u4E0A\\u4F20\\u56FE\\u7247\"})}))}),/*#__PURE__*/_jsx(Form.Item,_objectSpread(_objectSpread({},tailLayout),{},{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",style:{borderRadius:5},children:\"\\u6DFB\\u52A0\"})}))]}))]});}}]);return CimAddCommodity;}(Component);export{CimAddCommodity as default};","map":{"version":3,"sources":["D:/code/cloud-supermarket-management-system/src/utils/CimAddCommodity/CimAddCommodity.jsx"],"names":["React","Component","Form","Input","InputNumber","Button","message","PageHeader","Select","Upload","nanoid","axios","reqwest","layout","labelCol","span","wrapperCol","tailLayout","offset","Option","CimAddCommodity","state","subCategory","property","name","headers","authorization","beforeUpload","maxCount","onFinish","data","commodityName","toString","replace","originalPlace","currentPrice","originalPrice","status","salesVolume","file","formData","FormData","append","inventory","weight","category","url","method","then","res","console","log","success","window","location","href","error","showCategoryList","map","item","index","categorySelectChange","e","categorySelect","value","handleFileChange","target","files","componentDidMount","type","setState","minHeight","paddingLeft","backgroundColor","remember","required","width","elev","borderRadius"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Form, Input, InputNumber, Button, message, PageHeader, Select, Upload } from 'antd';\r\nimport { nanoid } from 'nanoid'\r\nimport axios from 'axios'\r\nimport './index.css'\r\nimport reqwest from 'reqwest';\r\n\r\nconst layout = {\r\n    labelCol: { span: 8 },\r\n    wrapperCol: { span: 6 },\r\n};\r\nconst tailLayout = {\r\n    wrapperCol: { offset: 10, span: 16 },\r\n};\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nexport default class CimAddCommodity extends Component {\r\n\r\n    state = {\r\n        subCategory: [],\r\n    }\r\n\r\n    property = {\r\n        name: 'file',\r\n        headers: {\r\n            authorization: 'authorization-text',\r\n        },\r\n        beforeUpload: () => {\r\n            return false\r\n        },\r\n        maxCount: 1\r\n    };\r\n\r\n    onFinish = (data) => {\r\n            // 处理空格\r\n            data.commodityName = data.commodityName.toString().replace(/\\s/,'') \r\n            data.originalPlace = data.originalPlace.toString().replace(/\\s/,'') \r\n\r\n            data.currentPrice = data.originalPrice\r\n            data.status = \"在售\"\r\n            data.salesVolume = 0\r\n            data.file = data.file.file\r\n            let formData = new FormData()\r\n            formData.append(\"commodityName\", data.commodityName)\r\n            formData.append(\"inventory\", data.inventory)\r\n            formData.append(\"originalPrice\", data.originalPrice)\r\n            formData.append(\"currentPrice\", data.currentPrice)\r\n            formData.append(\"originalPlace\", data.originalPlace)\r\n            formData.append(\"weight\", data.weight)\r\n            formData.append(\"category\", data.category)\r\n            formData.append(\"status\", data.status)\r\n            formData.append(\"salesVolume\", data.salesVolume)\r\n            formData.append(\"file\", data.file)\r\n            axios({\r\n                // 后端接口\r\n                url: '/addcommodity',\r\n                method: 'post',\r\n                // 传递给后端的数据\r\n                data: formData,\r\n            })\r\n                .then(res => {\r\n                    console.log(res)\r\n                    message.success(\"商品添加成功！\")\r\n                    window.location.href = '/home/cim'\r\n                }, () => {\r\n                    message.error(\"商品添加失败！\")\r\n                })\r\n    };\r\n\r\n    // 渲染分类下拉框的选项\r\n    showCategoryList = () => {\r\n        return this.state.subCategory.map((item, index) => {\r\n            return <Option value={`${item.category}`} key={nanoid()}>{item.category}</Option>\r\n        })\r\n    }\r\n\r\n    // 获取下拉框的值\r\n    categorySelectChange = (e) => {\r\n        this.categorySelect.value = e\r\n    }\r\n\r\n    handleFileChange = (e) => {\r\n        console.log(e.target.files[0])\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        // 请求分类列表\r\n        reqwest({\r\n            url: '/category/allcategory',\r\n            method: 'get',\r\n            type: 'json'\r\n        })\r\n            .then(res => {\r\n                // console.log(res.results)\r\n                this.setState({\r\n                    subCategory: res\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"contentWraper\" style={{ minHeight: 0 }}>\r\n                <PageHeader\r\n                    className=\"site-page-header\"\r\n                    onBack={() => { window.location.href = '/home/cim' }}\r\n                    subTitle=\"商品信息管理/新增商品\"\r\n                    style={{ paddingLeft: 10, backgroundColor: 'white' }}\r\n                />\r\n                <Form\r\n                    {...layout}\r\n                    id=\"addCommodityForm\"\r\n                    name=\"basic\"\r\n                    size=\"large\"\r\n                    initialValues={{ remember: true }}\r\n                    onFinish={this.onFinish}\r\n                >\r\n                    <Form.Item\r\n                        label=\"商品名称\"\r\n                        name=\"commodityName\"\r\n                        required={false}\r\n                        rules={[{ required: true, message: '请输入商品名称！' }]}\r\n                    >\r\n                        <Input />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"商品分类\"\r\n                        name=\"category\"\r\n                        required={false}\r\n                        rules={[{ required: true, message: '请选择商品分类！' }]}\r\n                    >\r\n                        <Select\r\n                            name='category'\r\n                            style={{ width: '100%' }}\r\n                            // defaultValue='onsale'\r\n                            ref={elev => { this.categorySelect = elev }}\r\n                            onChange={this.categorySelectChange}\r\n                        >\r\n                            {this.showCategoryList()}\r\n                        </Select >\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        hidden\r\n                        name=\"status\"\r\n                    >\r\n                        <Input value=\"\" />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        hidden\r\n                        label=\"商品售价\"\r\n                        name=\"currentPrice\"\r\n                    // required={false}\r\n                    // rules={[{ required: true, message: '请输入商品售价！' }]}\r\n                    >\r\n                        <Input />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"商品价格\"\r\n                        name=\"originalPrice\"\r\n                        required={false}\r\n                        rules={[{ required: true, message: '请输入商品原价！' }]}\r\n                    >\r\n                        <InputNumber className=\"input-number\" min={0} />\r\n                    </Form.Item>\r\n\r\n\r\n                    <Form.Item\r\n                        label=\"商品库存\"\r\n                        name=\"inventory\"\r\n                        required={false}\r\n                        rules={[{ required: true, message: '请输入商品库存！' }]}\r\n                    >\r\n                        <InputNumber className=\"input-number\" min={0} />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        hidden\r\n                        name=\"salesVolume\"\r\n                    >\r\n                        <Input value=\"\" />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"商品规格\"\r\n                        name=\"weight\"\r\n                        required={false}\r\n                        rules={[{ required: true, message: '请输入商品规格！' }]}\r\n                    >\r\n                        <InputNumber className=\"input-number\" min={0}/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"商品产地\"\r\n                        name=\"originalPlace\"\r\n                        required={false}\r\n                        rules={[{ required: true, message: '请输入商品产地！' }]}\r\n                    >\r\n                        <Input />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"商品图片\"\r\n                        name=\"file\"\r\n                        required={false}\r\n                        rules={[{ required: true, message: '请上传商品图片！' }]}\r\n                    >\r\n                        <Upload {...this.property}>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                size=\"middle\"\r\n                                style={{ borderRadius: 5 }}\r\n                            >\r\n                                上传图片\r\n                            </Button>\r\n                        </Upload>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item {...tailLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\" style={{ borderRadius: 5 }}>\r\n                            添加\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}