{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n/**\n * 状态量 Action 的基类\n * @abstract\n * @class\n * @ignore\n */\n\nvar StateBase =\n/** @class */\nfunction (_super) {\n  __extends(StateBase, _super);\n\n  function StateBase() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * 状态名称\n     */\n\n\n    _this.stateName = '';\n    return _this;\n  }\n  /**\n   * 是否具有某个状态\n   * @param element 图表 Element 元素\n   */\n\n\n  StateBase.prototype.hasState = function (element) {\n    return element.hasState(this.stateName);\n  };\n  /**\n   * 设置状态激活\n   * @param enable 状态值\n   */\n\n\n  StateBase.prototype.setElementState = function (element, enable) {\n    // 防止闪烁\n    element.setState(this.stateName, enable);\n  };\n  /**\n   * 设置状态\n   */\n\n\n  StateBase.prototype.setState = function () {\n    this.setStateEnable(true);\n  };\n  /**\n   * 清除所有 Element 的状态\n   */\n\n\n  StateBase.prototype.clear = function () {\n    var view = this.context.view;\n    this.clearViewState(view);\n  };\n\n  StateBase.prototype.clearViewState = function (view) {\n    var _this = this;\n\n    var elements = getElementsByState(view, this.stateName);\n    each(elements, function (el) {\n      _this.setElementState(el, false);\n    });\n  };\n\n  return StateBase;\n}(Action);\n\nexport default StateBase;","map":{"version":3,"sources":["../../../../src/interaction/action/element/state-base.ts"],"names":[],"mappings":";AAAA,SAAS,IAAT,QAAqB,YAArB;AAEA,OAAO,MAAP,MAAmB,SAAnB;AACA,SAAS,kBAAT,QAAmC,SAAnC;AAEA;;;;;AAKG;;AACH,IAAA,SAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAiC,EAAA,SAAA,CAAA,SAAA,EAAA,MAAA,CAAA;;AAAjC,WAAA,SAAA,GAAA;AAAA,QAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;AACE;;AAEG;;;AACO,IAAA,KAAA,CAAA,SAAA,GAAoB,EAApB;;AA6CX;AArCC;;;AAGG;;;AACO,EAAA,SAAA,CAAA,SAAA,CAAA,QAAA,GAAV,UAAmB,OAAnB,EAAmC;AACjC,WAAO,OAAO,CAAC,QAAR,CAAiB,KAAK,SAAtB,CAAP;AACD,GAFS;AAGV;;;AAGG;;;AACO,EAAA,SAAA,CAAA,SAAA,CAAA,eAAA,GAAV,UAA0B,OAA1B,EAA4C,MAA5C,EAA2D;AACzD;AACA,IAAA,OAAO,CAAC,QAAR,CAAiB,KAAK,SAAtB,EAAiC,MAAjC;AACD,GAHS;AAKV;;AAEG;;;AACI,EAAA,SAAA,CAAA,SAAA,CAAA,QAAA,GAAP,YAAA;AACE,SAAK,cAAL,CAAoB,IAApB;AACD,GAFM;AAIP;;AAEG;;;AACI,EAAA,SAAA,CAAA,SAAA,CAAA,KAAA,GAAP,YAAA;AACE,QAAM,IAAI,GAAG,KAAK,OAAL,CAAa,IAA1B;AACA,SAAK,cAAL,CAAoB,IAApB;AACD,GAHM;;AAKG,EAAA,SAAA,CAAA,SAAA,CAAA,cAAA,GAAV,UAAyB,IAAzB,EAA6B;AAA7B,QAAA,KAAA,GAAA,IAAA;;AACE,QAAM,QAAQ,GAAG,kBAAkB,CAAC,IAAD,EAAO,KAAK,SAAZ,CAAnC;AACA,IAAA,IAAI,CAAC,QAAD,EAAW,UAAC,EAAD,EAAY;AACzB,MAAA,KAAI,CAAC,eAAL,CAAqB,EAArB,EAAyB,KAAzB;AACD,KAFG,CAAJ;AAGD,GALS;;AAMZ,SAAA,SAAA;AAAC,CAjDD,CAAiC,MAAjC,CAAA;;AAmDA,eAAe,SAAf","sourcesContent":["import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n * 状态量 Action 的基类\n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * 状态名称\n   */\n  protected stateName: string = '';\n\n  /**\n   * 设置状态是否激活\n   * @param enable 状态值\n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * 是否具有某个状态\n   * @param element 图表 Element 元素\n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * 设置状态激活\n   * @param enable 状态值\n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // 防止闪烁\n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * 设置状态\n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * 清除所有 Element 的状态\n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}