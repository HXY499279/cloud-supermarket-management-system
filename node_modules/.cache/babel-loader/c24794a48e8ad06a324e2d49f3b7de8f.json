{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\cloud-supermarket-management-system\\\\src\\\\components\\\\Content\\\\Om\\\\Om.jsx\";\nimport React, { Component } from 'react';\nimport { Descriptions, Divider, Breadcrumb, Button, Input, message, InputNumber, DatePicker, Table, ConfigProvider, Popconfirm, Space } from 'antd';\nimport { nanoid } from 'nanoid';\nimport reqwest from 'reqwest';\nimport { SearchOutlined } from '@ant-design/icons';\nimport './index.css'; // 配置中文环境\n\nimport zh_CN from 'antd/lib/locale-provider/zh_CN';\nimport 'moment/locale/zh-cn'; // 引用工具\n\nimport ofStatusToChinese from '../../../utils/ofStatusToChinese';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  RangePicker\n} = DatePicker;\nexport default class Om extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      date: [],\n      data: [],\n      pagination: {\n        current: 1,\n        pageSize: 5,\n        total: ''\n      },\n      loading: false,\n      status: 'willdelivery',\n      ofDetails: null\n    };\n\n    this.confirmStatus = () => {\n      switch (this.state.status) {\n        case \"willdelivery\":\n          return \"willdelivery\";\n\n        case \"delivery\":\n          return \"delivery\";\n\n        case \"success\":\n          return \"success\";\n\n        case \"refund\":\n          return \"refund\";\n\n        case \"refunded\":\n          return \"refunded\";\n\n        default:\n          return \"sendgoods\";\n      }\n    };\n\n    this.getColumns = () => {\n      let columns = [{\n        title: '订单id',\n        dataIndex: 'ofid',\n        key: 'ofid',\n        defaultSortOrder: 'ascend',\n        sorter: (a, b) => a.id - b.id\n      }, {\n        title: '用户id',\n        dataIndex: 'uid',\n        key: 'uid'\n      }, {\n        title: '总价',\n        dataIndex: 'totalPrice',\n        key: 'totalPrice'\n      }, {\n        title: '下单时间',\n        dataIndex: 'time',\n        key: 'time'\n      }, {\n        title: '备注',\n        dataIndex: 'remarks',\n        key: 'remarks'\n      }, {\n        title: '订单状态',\n        dataIndex: 'status',\n        key: 'status',\n        className: this.confirmStatus()\n      }, this.state.status !== \"success\" && this.state.status !== \"refunded\" ? {\n        title: '操作',\n        dataIndex: 'ofid',\n        key: 'ofid',\n        render: ofid => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              style: {\n                borderRadius: 5,\n                marginLeft: 20\n              },\n              children: /*#__PURE__*/_jsxDEV(Popconfirm, {\n                title: `确定${this.changeOprationButtonWord(this.state.status)}吗?`,\n                onConfirm: this.confirmChangeStatus.bind(this, ofid),\n                okText: \"\\u786E\\u8BA4\",\n                cancelText: \"\\u53D6\\u6D88\",\n                children: this.changeOprationButtonWord(this.state.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 33\n            }, this)\n          }, void 0, false);\n        }\n      } : {\n        className: \"of-last-item-hidden\"\n      }];\n      return columns;\n    };\n\n    this.changeOprationButtonWord = status => {\n      switch (status) {\n        case \"willdelivery\":\n          return \"发货\";\n\n        case \"delivery\":\n          return \"完成订单\";\n\n        case \"refund\":\n          return \"退款\";\n\n        default:\n          return \"发货\";\n      }\n    };\n\n    this.confirmChangeStatus = ofid => {\n      let {\n        current,\n        pageSize\n      } = this.state.pagination;\n      const data = {\n        ofid: ofid,\n        current,\n        pageSize,\n        startStatus: this.state.status,\n        endStatus: this.confirmEndStatus()\n      };\n      reqwest({\n        // 后端接口\n        url: '/om/changeofstatus',\n        method: 'post',\n        type: 'json',\n        // 传递给后端的数据\n        data: data\n      }) //根据返回的状态码status判断是否删除用户成功\n      .then(res => {\n        console.log(res);\n        let data = res;\n        ofStatusToChinese(data.results);\n        this.setState({\n          data: data.results\n        });\n\n        if (res.status === 'success') {\n          message.success('处理成功');\n        } else {\n          message.error('处理失败');\n        }\n      });\n    };\n\n    this.confirmEndStatus = () => {\n      switch (this.state.status) {\n        case \"willdelivery\":\n          return \"delivery\";\n\n        case \"delivery\":\n          return \"success\";\n\n        case \"refund\":\n          return \"refunded\";\n\n        default:\n          return;\n      }\n    };\n\n    this.dateOnChange = (value, dateString) => {\n      let startDate = dateString[0].replace(/\\//g, \"-\");\n      let endDate = dateString[1].replace(/\\//g, \"-\");\n      let date = [startDate, endDate];\n      this.setState({\n        date: date\n      });\n    };\n\n    this.OmSearch = () => {\n      console.log(this.state.date);\n      let [ofid, uid, date, status] = [this.ofidInput.value, this.uidInput.state.value, this.state.date, this.state.status];\n      date = JSON.stringify(date);\n      const data = {\n        ofid,\n        uid,\n        date,\n        status\n      };\n      console.log(data);\n      reqwest({\n        url: '/om/searchorderform',\n        method: 'post',\n        type: 'json',\n        data: data\n      }).then(data => {\n        // 数据处理-给每条数据添加独立的key\n        data.results.forEach(item => {\n          item.key = nanoid();\n        });\n        ofStatusToChinese(data.results);\n        this.setState({\n          data: data.results\n        });\n      });\n    };\n\n    this.handleTableChange = pagination => {\n      console.log(pagination);\n      let {\n        current,\n        pageSize\n      } = pagination; // console.log(pagination)\n\n      this.setState({\n        pagination: {\n          current,\n          pageSize\n        }\n      });\n      this.fetch({\n        pagination\n      });\n    };\n\n    this.getRandomuserParams = params => ({\n      current: params.pagination.current,\n      pageSize: params.pagination.pageSize,\n      status: this.state.status\n    });\n\n    this.fetch = (params = {}) => {\n      this.setState({\n        loading: true\n      });\n      reqwest({\n        // 后端接口\n        url: '/om/oflist',\n        method: 'post',\n        type: 'json',\n        // 传递给后端的数据\n        data: this.getRandomuserParams(params)\n      }).then(data => {\n        // 数据处理-给每条数据添加独立的key\n        data.results.forEach(item => {\n          item.key = nanoid();\n        }); // 数据处理-将status从英文变成中文在页面显示\n\n        console.log(data);\n        ofStatusToChinese(data.results);\n        this.setState({\n          loading: false,\n          // 根据接口返回的数据源\n          data: data.results,\n          pagination: { ...params.pagination,\n            // 根据接口返回的总条数\n            total: data.total\n          }\n        });\n      });\n    };\n\n    this.changeStatusAndPost = status => {\n      const {\n        pagination\n      } = this.state;\n      this.setState({\n        status: status\n      }, () => {\n        this.fetch({\n          pagination\n        });\n      });\n    };\n\n    this.willdeliveryClick = () => {\n      this.changeStatusAndPost(\"willdelivery\");\n    };\n\n    this.deliveryClick = () => {\n      this.changeStatusAndPost(\"delivery\");\n    };\n\n    this.successClick = () => {\n      this.changeStatusAndPost(\"success\");\n    };\n\n    this.refundClick = () => {\n      this.changeStatusAndPost(\"refund\");\n    };\n\n    this.refundedClick = () => {\n      this.changeStatusAndPost(\"refunded\");\n    };\n  }\n\n  componentDidMount() {\n    const {\n      pagination\n    } = this.state;\n    this.fetch({\n      pagination\n    });\n  }\n\n  render() {\n    const {\n      data,\n      pagination,\n      loading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Divider, {\n        style: {\n          margin: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Om-head\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Om-desc-wraper\",\n          children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n            className: \"bdc\",\n            children: [/*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/home\",\n                children: \"\\u4E3B\\u9875\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n              children: \"\\u8BA2\\u5355\\u4FE1\\u606F\\u7BA1\\u7406\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Descriptions, {\n            title: \"\\u8BA2\\u5355\\u7BA1\\u7406\",\n            className: \"desc\",\n            children: /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n              children: \"\\u5C55\\u793A\\u8BA2\\u5355\\u4FE1\\u606F\\uFF0C\\u67E5\\u8BE2\\u8BA2\\u5355\\uFF0C\\u67E5\\u770B\\u8BA2\\u5355\\u72B6\\u6001\\uFF0C\\u5904\\u7406\\u8BA2\\u5355\\u7684\\u53D1\\u8D27\\uFF0C\\u786E\\u8BA4\\u9001\\u8FBE\\u548C\\u540C\\u610F\\u9000\\u6B3E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status-switch\",\n          children: /*#__PURE__*/_jsxDEV(Space, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              className: \"status-button\",\n              onClick: this.willdeliveryClick,\n              children: \"\\u5F85\\u53D1\\u8D27\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"status-button\",\n              onClick: this.deliveryClick,\n              children: \"\\u914D\\u9001\\u4E2D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"status-button\",\n              onClick: this.successClick,\n              children: \"\\u5DF2\\u6210\\u4EA4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"status-button\",\n              onClick: this.refundClick,\n              children: \"\\u5F85\\u9000\\u6B3E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"status-button\",\n              onClick: this.refundedClick,\n              children: \"\\u5DF2\\u9000\\u6B3E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search\",\n        children: [/*#__PURE__*/_jsxDEV(Divider, {\n          style: {\n            margin: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Space, {\n          style: {\n            marginTop: 20\n          },\n          size: 20,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u8BA2\\u5355id:\", /*#__PURE__*/_jsxDEV(InputNumber, {\n              name: \"Oid\",\n              className: \"Om-input\",\n              ref: elev => {\n                this.ofidInput = elev;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u7528\\u6237id:\", /*#__PURE__*/_jsxDEV(Input, {\n              name: \"commodity\",\n              className: \"Om-input\",\n              ref: elev => {\n                this.uidInput = elev;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u65F6\\u95F4:\", /*#__PURE__*/_jsxDEV(ConfigProvider, {\n              locale: zh_CN,\n              children: /*#__PURE__*/_jsxDEV(RangePicker, {\n                showTime: true,\n                format: \"YYYY-MM-DD HH:mm\",\n                onChange: this.dateOnChange,\n                ref: elev => {\n                  this.dateElev = elev;\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: 20\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              shape: \"circle\",\n              icon: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 73\n              }, this),\n              onClick: this.OmSearch\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tableWraper contentWraper\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          columns: this.getColumns(),\n          dataSource: data,\n          pagination: pagination,\n          loading: loading,\n          onChange: this.handleTableChange,\n          bordered: true,\n          expandable: {\n            expandedRowRender: item => {\n              // console.log(item)\n              let data = {\n                ofid: item.ofid,\n                uid: item.uid\n              };\n              reqwest({\n                url: '/om/ofdetails',\n                method: \"post\",\n                type: \"json\",\n                data: data\n              }).then(res => {\n                console.log(res);\n                this.setState({\n                  ofDetails: res\n                });\n              });\n\n              function ofDetailsReturn() {\n                let user = this.state.ofDetails.user;\n                let commodityDetails = this.state.ofDetails.commodityDetails;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"sub-order\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"\\u7528\\u6237\\u6536\\u8D27\\u5730\\u5740: \", user.address, \" \", user.uname, \" \", user.phone, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontWeight: 600,\n                      fontSize: 14\n                    },\n                    children: \"\\u5546\\u54C1\\u8BE6\\u60C5:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 41\n                  }, this), commodityDetails.map(item => {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"commodity-details\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"commodity-details-item\",\n                        children: [\"\\u540D\\u79F0: \", item.commodityName]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 396,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"commodity-details-item\",\n                        children: [\"\\u6570\\u91CF: \", item.count]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 397,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 394,\n                      columnNumber: 52\n                    }, this);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 44\n                }, this);\n              }\n\n              setTimeout(() => {}, timeout);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/code/cloud-supermarket-management-system/src/components/Content/Om/Om.jsx"],"names":["React","Component","Descriptions","Divider","Breadcrumb","Button","Input","message","InputNumber","DatePicker","Table","ConfigProvider","Popconfirm","Space","nanoid","reqwest","SearchOutlined","zh_CN","ofStatusToChinese","RangePicker","Om","state","date","data","pagination","current","pageSize","total","loading","status","ofDetails","confirmStatus","getColumns","columns","title","dataIndex","key","defaultSortOrder","sorter","a","b","id","className","render","ofid","borderRadius","marginLeft","changeOprationButtonWord","confirmChangeStatus","bind","startStatus","endStatus","confirmEndStatus","url","method","type","then","res","console","log","results","setState","success","error","dateOnChange","value","dateString","startDate","replace","endDate","OmSearch","uid","ofidInput","uidInput","JSON","stringify","forEach","item","handleTableChange","fetch","getRandomuserParams","params","changeStatusAndPost","willdeliveryClick","deliveryClick","successClick","refundClick","refundedClick","componentDidMount","margin","marginTop","elev","dateElev","expandedRowRender","ofDetailsReturn","user","commodityDetails","address","uname","phone","fontWeight","fontSize","map","commodityName","count","setTimeout","timeout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Descriptions, Divider, Breadcrumb, Button, Input, message, InputNumber, DatePicker, Table, ConfigProvider, Popconfirm, Space } from 'antd';\r\nimport { nanoid } from 'nanoid'\r\nimport reqwest from 'reqwest';\r\nimport { SearchOutlined } from '@ant-design/icons'\r\nimport './index.css'\r\n// 配置中文环境\r\nimport zh_CN from 'antd/lib/locale-provider/zh_CN';\r\nimport 'moment/locale/zh-cn';\r\n// 引用工具\r\nimport ofStatusToChinese from '../../../utils/ofStatusToChinese';\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nexport default class Om extends Component {\r\n\r\n    state = {\r\n        date: [],\r\n        data: [],\r\n        pagination: {\r\n            current: 1,\r\n            pageSize: 5,\r\n            total: ''\r\n        },\r\n        loading: false,\r\n        status: 'willdelivery',\r\n        ofDetails:null\r\n    };\r\n\r\n    // 根据状态来切换订单信息中订单状态的className来切换其颜色\r\n    confirmStatus = () => {\r\n        switch (this.state.status) {\r\n            case \"willdelivery\":\r\n                return \"willdelivery\"\r\n            case \"delivery\":\r\n                return \"delivery\"\r\n            case \"success\":\r\n                return \"success\"\r\n            case \"refund\":\r\n                return \"refund\"\r\n            case \"refunded\":\r\n                return \"refunded\"\r\n            default:\r\n                return \"sendgoods\"\r\n        }\r\n    }\r\n\r\n    getColumns = () => {\r\n        let columns = [\r\n            {\r\n                title: '订单id',\r\n                dataIndex: 'ofid',\r\n                key: 'ofid',\r\n                defaultSortOrder: 'ascend',\r\n                sorter: (a, b) => a.id - b.id,\r\n            },\r\n            {\r\n                title: '用户id',\r\n                dataIndex: 'uid',\r\n                key: 'uid'\r\n            },\r\n            {\r\n                title: '总价',\r\n                dataIndex: 'totalPrice',\r\n                key: 'totalPrice',\r\n            },\r\n\r\n            {\r\n                title: '下单时间',\r\n                dataIndex: 'time',\r\n                key: 'time',\r\n            },\r\n            {\r\n                title: '备注',\r\n                dataIndex: 'remarks',\r\n                key: 'remarks',\r\n            },\r\n            {\r\n                title: '订单状态',\r\n                dataIndex: 'status',\r\n                key: 'status',\r\n                className: this.confirmStatus()\r\n            },\r\n            (this.state.status !== \"success\" && this.state.status !== \"refunded\")\r\n                ?\r\n                {\r\n                    title: '操作',\r\n                    dataIndex: 'ofid',\r\n                    key: 'ofid',\r\n                    render: (ofid) => {\r\n                        return (\r\n                            <>\r\n                                <Button\r\n                                    type=\"primary\"\r\n                                    style={{ borderRadius: 5, marginLeft: 20 }}\r\n                                >\r\n                                    <Popconfirm\r\n                                        title={`确定${this.changeOprationButtonWord(this.state.status)}吗?`}\r\n                                        onConfirm={this.confirmChangeStatus.bind(this, ofid)}\r\n                                        okText=\"确认\"\r\n                                        cancelText=\"取消\"\r\n                                    >\r\n                                        {this.changeOprationButtonWord(this.state.status)}\r\n                                    </Popconfirm>\r\n                                </Button>\r\n                            </>\r\n                        )\r\n                    }\r\n                }\r\n                :\r\n                {\r\n                    className: \"of-last-item-hidden\"\r\n                }\r\n        ];\r\n        return columns\r\n    }\r\n\r\n    // 更改操作按钮中的文字\r\n    changeOprationButtonWord = (status) => {\r\n        switch (status) {\r\n            case \"willdelivery\":\r\n                return \"发货\"\r\n            case \"delivery\":\r\n                return \"完成订单\"\r\n            case \"refund\":\r\n                return \"退款\"\r\n            default:\r\n                return \"发货\"\r\n        }\r\n    }\r\n\r\n    // 确认更改订单状态操作\r\n    confirmChangeStatus = (ofid) => {\r\n        let { current, pageSize } = this.state.pagination\r\n        const data = {\r\n            ofid: ofid,\r\n            current,\r\n            pageSize,\r\n            startStatus: this.state.status,\r\n            endStatus: this.confirmEndStatus()\r\n        }\r\n        reqwest({\r\n            // 后端接口\r\n            url: '/om/changeofstatus',\r\n            method: 'post',\r\n            type: 'json',\r\n            // 传递给后端的数据\r\n            data: data\r\n        })\r\n            //根据返回的状态码status判断是否删除用户成功\r\n            .then(res => {\r\n                console.log(res)\r\n                let data = res\r\n                ofStatusToChinese(data.results)\r\n                this.setState({\r\n                    data: data.results\r\n                })\r\n                if (res.status === 'success') {\r\n                    message.success('处理成功');\r\n                } else {\r\n                    message.error('处理失败');\r\n                }\r\n            })\r\n    }\r\n    // 根据startStatus来判断endStatus\r\n    confirmEndStatus = () => {\r\n        switch (this.state.status) {\r\n            case \"willdelivery\":\r\n                return \"delivery\"\r\n            case \"delivery\":\r\n                return \"success\"\r\n            case \"refund\":\r\n                return \"refunded\"\r\n            default:\r\n                return\r\n        }\r\n    }\r\n\r\n    // 更改日期的提交格式\r\n    dateOnChange = (value, dateString) => {\r\n        let startDate = dateString[0].replace(/\\//g, \"-\")\r\n        let endDate = dateString[1].replace(/\\//g, \"-\")\r\n        let date = [startDate, endDate]\r\n        this.setState({\r\n            date: date\r\n        })\r\n    }\r\n\r\n    // 搜索操作\r\n    OmSearch = () => {\r\n        console.log(this.state.date)\r\n        let [ofid, uid, date, status] = [\r\n            this.ofidInput.value,\r\n            this.uidInput.state.value,\r\n            this.state.date,\r\n            this.state.status\r\n        ]\r\n        date = JSON.stringify(date)\r\n        const data = { ofid, uid, date, status }\r\n        console.log(data)\r\n        reqwest({\r\n            url: '/om/searchorderform',\r\n            method: 'post',\r\n            type: 'json',\r\n            data: data\r\n        })\r\n            .then(data => {\r\n                // 数据处理-给每条数据添加独立的key\r\n                data.results.forEach(item => {\r\n                    item.key = nanoid()\r\n                })\r\n                ofStatusToChinese(data.results)\r\n                this.setState({\r\n                    data: data.results\r\n                })\r\n            })\r\n    }\r\n\r\n    // 点击Table按钮 渲染组件\r\n    handleTableChange = (pagination) => {\r\n        console.log(pagination)\r\n        let { current, pageSize } = pagination\r\n        // console.log(pagination)\r\n        this.setState({\r\n            pagination: {\r\n                current,\r\n                pageSize\r\n            }\r\n        })\r\n        this.fetch({\r\n            pagination,\r\n        });\r\n    };\r\n\r\n    getRandomuserParams = params => ({\r\n        current: params.pagination.current,\r\n        pageSize: params.pagination.pageSize,\r\n        status: this.state.status\r\n    });\r\n\r\n    fetch = (params = {}) => {\r\n        this.setState({ loading: true });\r\n        reqwest({\r\n            // 后端接口\r\n            url: '/om/oflist',\r\n            method: 'post',\r\n            type: 'json',\r\n            // 传递给后端的数据\r\n            data: this.getRandomuserParams(params),\r\n        })\r\n            .then(data => {\r\n                // 数据处理-给每条数据添加独立的key\r\n                data.results.forEach(item => {\r\n                    item.key = nanoid()\r\n                })\r\n                // 数据处理-将status从英文变成中文在页面显示\r\n                console.log(data)\r\n                ofStatusToChinese(data.results)\r\n                this.setState({\r\n                    loading: false,\r\n                    // 根据接口返回的数据源\r\n                    data: data.results,\r\n                    pagination: {\r\n                        ...params.pagination,\r\n                        // 根据接口返回的总条数\r\n                        total: data.total,\r\n                    },\r\n                });\r\n            })\r\n            ;\r\n    };\r\n\r\n    // 点击状态按钮切换渲染\r\n    changeStatusAndPost = (status) => {\r\n        const { pagination } = this.state;\r\n        this.setState({\r\n            status: status\r\n        }, () => {\r\n            this.fetch({ pagination });\r\n        })\r\n\r\n    }\r\n\r\n    willdeliveryClick = () => {\r\n        this.changeStatusAndPost(\"willdelivery\")\r\n    }\r\n    deliveryClick = () => {\r\n        this.changeStatusAndPost(\"delivery\")\r\n    }\r\n    successClick = () => {\r\n        this.changeStatusAndPost(\"success\")\r\n    }\r\n    refundClick = () => {\r\n        this.changeStatusAndPost(\"refund\")\r\n    }\r\n    refundedClick = () => {\r\n        this.changeStatusAndPost(\"refunded\")\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { pagination } = this.state;\r\n        this.fetch({ pagination });\r\n    }\r\n\r\n    render() {\r\n        const { data, pagination, loading } = this.state;\r\n        return (\r\n            <div>\r\n                <Divider style={{ margin: 0 }} />\r\n                <div className=\"Om-head\">\r\n                    <div className=\"Om-desc-wraper\">\r\n                        <Breadcrumb className=\"bdc\">\r\n                            <Breadcrumb.Item>\r\n                                <a href=\"/home\">主页</a>\r\n                            </Breadcrumb.Item>\r\n                            <Breadcrumb.Item>订单信息管理</Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n                        <Descriptions title=\"订单管理\" className=\"desc\">\r\n                            <Descriptions.Item>展示订单信息，查询订单，查看订单状态，处理订单的发货，确认送达和同意退款</Descriptions.Item>\r\n                        </Descriptions>\r\n                    </div>\r\n                    <div className=\"status-switch\">\r\n                        <Space>\r\n                            <Button className=\"status-button\" onClick={this.willdeliveryClick}>待发货</Button>\r\n                            <Button className=\"status-button\" onClick={this.deliveryClick}>配送中</Button>\r\n                            <Button className=\"status-button\" onClick={this.successClick}>已成交</Button>\r\n                            <Button className=\"status-button\" onClick={this.refundClick}>待退款</Button>\r\n                            <Button className=\"status-button\" onClick={this.refundedClick}>已退款</Button>\r\n                        </Space>\r\n                    </div>\r\n                </div>\r\n                <div className=\"search\">\r\n                    <Divider style={{ margin: 0 }} />\r\n                    <Space style={{ marginTop: 20 }} size={20}>\r\n                        <div>\r\n                            订单id:\r\n                            <InputNumber name='Oid' className=\"Om-input\" ref={elev => { this.ofidInput = elev }} />\r\n                        </div>\r\n                        <div>\r\n                            用户id:\r\n                            <Input name=\"commodity\" className=\"Om-input\" ref={elev => { this.uidInput = elev }} />\r\n                        </div>\r\n                        <div>\r\n                            时间:\r\n                            <ConfigProvider locale={zh_CN}>\r\n                                <RangePicker\r\n                                    showTime\r\n                                    format=\"YYYY-MM-DD HH:mm\"\r\n                                    onChange={this.dateOnChange}\r\n                                    ref={elev => { this.dateElev = elev }}\r\n                                />\r\n                            </ConfigProvider>\r\n                        </div>\r\n                        <div style={{ marginLeft: 20 }}>\r\n                            <Button type=\"primary\" shape=\"circle\" icon={<SearchOutlined />} onClick={this.OmSearch} />\r\n                        </div>\r\n                    </Space>\r\n                </div>\r\n                <div className=\"tableWraper contentWraper\">\r\n                    <Table\r\n                        columns={this.getColumns()}\r\n                        dataSource={data}\r\n                        pagination={pagination}\r\n                        loading={loading}\r\n                        onChange={this.handleTableChange}\r\n                        bordered={true}\r\n                        expandable={{\r\n                            expandedRowRender: item => {\r\n                                // console.log(item)\r\n                                let data = {\r\n                                    ofid: item.ofid,\r\n                                    uid: item.uid\r\n                                }\r\n                                reqwest({\r\n                                    url: '/om/ofdetails',\r\n                                    method: \"post\",\r\n                                    type: \"json\",\r\n                                    data: data\r\n                                })\r\n                                    .then(res => {\r\n                                        console.log(res)\r\n                                        this.setState({\r\n                                            ofDetails: res\r\n                                        })\r\n\r\n                                    })\r\n                                function ofDetailsReturn () {\r\n                                    let user = this.state.ofDetails.user\r\n                                    let commodityDetails = this.state.ofDetails.commodityDetails\r\n                                    return <div className=\"sub-order\">\r\n                                        <p>用户收货地址: {user.address} {user.uname} {user.phone} </p>\r\n                                        <p style={{ fontWeight: 600, fontSize: 14 }}>商品详情:</p>\r\n                                        {commodityDetails.map(item => {\r\n                                            return <div className=\"commodity-details\" >\r\n                                                {/* <div className=\"commodity-details-item\" >编号: {item.cid}</div> */}\r\n                                                <div className=\"commodity-details-item\" >名称: {item.commodityName}</div>\r\n                                                <div className=\"commodity-details-item\" >数量: {item.count}</div>\r\n                                            </div>\r\n                                        })}\r\n                                    </div>\r\n                                }\r\n                                setTimeout(() => {\r\n                                    \r\n                                }, timeout);\r\n                            },\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}