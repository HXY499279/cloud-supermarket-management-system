{"ast":null,"code":"import { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nregisterShape('point', 'image', {\n  draw: function (cfg, container) {\n    var size = getStyle(cfg, false, false, 'r').r;\n    var points = this.parsePoints(cfg.points);\n    var pointPosition = points[0];\n\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      var group = container.addGroup();\n\n      for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n        var point = points_1[_i];\n        group.addShape('image', {\n          attrs: {\n            x: point.x - size / 2,\n            y: point.y - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1]\n          }\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: pointPosition.x - size / 2,\n        y: pointPosition.y - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1]\n      }\n    });\n  },\n  getMarker: function (markerCfg) {\n    var color = markerCfg.color;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color\n      }\n    };\n  }\n});","map":{"version":3,"sources":["../../../../src/geometry/shape/point/image.ts"],"names":[],"mappings":"AAGA,SAAS,aAAT,QAA8B,SAA9B;AACA,SAAS,QAAT,QAAyB,mBAAzB;AAEA,aAAa,CAAC,OAAD,EAAU,OAAV,EAAmB;AAC9B,EAAA,IAAI,EAAJ,UAAK,GAAL,EAAqB,SAArB,EAAsC;AAC5B,QAAG,IAAI,GAAK,QAAQ,CAAC,GAAD,EAAM,KAAN,EAAa,KAAb,EAAoB,GAApB,CAAR,CAAL,CAAP;AACR,QAAM,MAAM,GAAG,KAAK,WAAL,CAAiB,GAAG,CAAC,MAArB,CAAf;AACA,QAAI,aAAa,GAAG,MAAM,CAAC,CAAD,CAA1B;;AACA,QAAI,GAAG,CAAC,OAAR,EAAiB;AACf,MAAA,aAAa,GAAG,MAAM,CAAC,CAAD,CAAtB;AACD,KAFD,MAEO,IAAI,MAAM,CAAC,MAAP,GAAgB,CAApB,EAAuB;AAC5B,UAAM,KAAK,GAAG,SAAS,CAAC,QAAV,EAAd;;AACA,WAAoB,IAAA,EAAA,GAAA,CAAA,EAAA,QAAA,GAAA,MAApB,EAAoB,EAAA,GAAA,QAAA,CAAA,MAApB,EAAoB,EAAA,EAApB,EAA4B;AAAvB,YAAM,KAAK,GAAA,QAAA,CAAA,EAAA,CAAX;AACH,QAAA,KAAK,CAAC,QAAN,CAAe,OAAf,EAAwB;AACtB,UAAA,KAAK,EAAE;AACL,YAAA,CAAC,EAAG,KAAK,CAAC,CAAN,GAAqB,IAAI,GAAG,CAD3B;AAEL,YAAA,CAAC,EAAG,KAAK,CAAC,CAAN,GAAqB,IAFpB;AAGL,YAAA,KAAK,EAAE,IAHF;AAIL,YAAA,MAAM,EAAE,IAJH;AAKL,YAAA,GAAG,EAAE,GAAG,CAAC,KAAJ,CAAU,CAAV;AALA;AADe,SAAxB;AASD;;AAED,aAAO,KAAP;AACD;;AAED,WAAO,SAAS,CAAC,QAAV,CAAmB,OAAnB,EAA4B;AACjC,MAAA,KAAK,EAAE;AACL,QAAA,CAAC,EAAG,aAAa,CAAC,CAAd,GAA6B,IAAI,GAAG,CADnC;AAEL,QAAA,CAAC,EAAG,aAAa,CAAC,CAAd,GAA6B,IAF5B;AAGL,QAAA,KAAK,EAAE,IAHF;AAIL,QAAA,MAAM,EAAE,IAJH;AAKL,QAAA,GAAG,EAAE,GAAG,CAAC,KAAJ,CAAU,CAAV;AALA;AAD0B,KAA5B,CAAP;AASD,GAjC6B;AAkC9B,EAAA,SAAS,EAAT,UAAU,SAAV,EAAmC;AACzB,QAAA,KAAK,GAAK,SAAS,CAAd,KAAL;AACR,WAAO;AACL,MAAA,MAAM,EAAE,QADH;AAEL,MAAA,KAAK,EAAE;AACL,QAAA,CAAC,EAAE,GADE;AAEL,QAAA,IAAI,EAAE;AAFD;AAFF,KAAP;AAOD;AA3C6B,CAAnB,CAAb","sourcesContent":["import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}