(this["webpackJsonpcloud-supermarket-management-system"]=this["webpackJsonpcloud-supermarket-management-system"]||[]).push([[0],{313:function(e,t,a){},314:function(e,t){},385:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},413:function(e,t,a){},414:function(e,t,a){},419:function(e,t,a){},420:function(e,t,a){},421:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},431:function(e,t,a){},432:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(70),i=a.n(c),r=a(40),o=a(41),d=a(43),l=a(42),u=a(60),j=a(57),h=a(34),m=a(294),b=a(441),p=a(443),f=a(446),O=a(170),g=a(68),y=(a(225),a(313),a(46)),x=a.n(y),v=a.p+"static/media/2.00b0783a.jpg",C=a(4),w={labelCol:{span:10},wrapperCol:{span:50}},S={wrapperCol:{offset:0,span:10}},N=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).submitHandle=function(){if(void 0!==n.nameElem.props.value&&void 0!==n.passwordElem.props.value){var e=n.state.admin;e.asname=n.nameElem.props.value,e.password=n.passwordElem.props.value,n.setState({admin:e},(function(){x()({url:"/login",method:"post",type:"json",data:n.state.admin}).then((function(e){console.log(e),n.setState({status:e.status},(function(){if("success"===n.state.status){m.b.success("\u767b\u9646\u6210\u529f\uff01");var e=JSON.stringify(n.state.admin);sessionStorage.setItem("admin",e),window.location.href="./home"}else m.b.error("\u8d26\u53f7\u6216\u5bc6\u7801\u9519\u8bef\uff01"),n.nameElem.input.value="",n.passwordElem.input.value=""}))}),(function(){m.b.error("\u670d\u52a1\u5668\u51fa\u9519\uff01")})).catch((function(e){m.b.error("\u670d\u52a1\u5668\u51fa\u9519\uff01")}))}))}},n.state={admin:{asname:"",password:""},status:""},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{children:[Object(C.jsx)(b.a,{id:"pageLogin",src:v,preview:!1}),Object(C.jsxs)("div",{id:"formWrap",children:[Object(C.jsx)("p",{className:"login-p",style:{color:"white",fontSize:18},children:"\u8bf7\u4f7f\u7528\u60a8\u7684\u8d26\u53f7\u5bc6\u7801\u767b\u5f55\u7cfb\u7edf"}),Object(C.jsxs)(p.a,Object(h.a)(Object(h.a)({initialValues:{remember:!0}},w),{},{children:[Object(C.jsx)(p.a.Item,{name:"asname",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u7528\u6237\u540d\uff01"}],children:Object(C.jsx)(f.a,{ref:function(t){e.nameElem=t},style:{borderRadius:7},placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"})}),Object(C.jsx)(p.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u5bc6\u7801\uff01"}],children:Object(C.jsx)(f.a.Password,{ref:function(t){e.passwordElem=t},style:{borderRadius:7},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})}),Object(C.jsx)(p.a.Item,Object(h.a)(Object(h.a)({},S),{},{name:"remember",valuePropName:"checked",children:Object(C.jsx)(O.a,{style:{color:"white"},children:"\u8bb0\u4f4f\u5bc6\u7801"})})),Object(C.jsx)(p.a.Item,Object(h.a)(Object(h.a)({},S),{},{children:Object(C.jsx)(g.a,{type:"primary",htmlType:"submit",id:"submit",onClick:this.submitHandle,style:{borderRadius:7},children:"\u767b\u9646"})}))]})),Object(C.jsx)("p",{className:"login-p",style:{color:"white"},children:"CQUPT-Supermarket-Management-System"}),Object(C.jsx)("p",{className:"login-p",style:{color:"white"},children:"Designed By LTH"})]})]})}}]),a}(n.Component),k=a(437),I=a(448),D=(a(385),a(458)),z=a(459),E=a(104),P=a(434),T=a(438),R=a(435),A=a(295),L=a(447),F=a(81),q=(a(386),a(445)),M=(a(387),{labelCol:{span:9},wrapperCol:{span:5}}),W={wrapperCol:{offset:10,span:16}},V=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onFinish=function(e,t){t.modifiedpassword===e.upassword?m.b.warning("\u5bc6\u7801\u672a\u4fee\u6539\uff01"):(console.log(t),x()({url:"/modifypassword",method:"post",type:"json",data:t}).then((function(e){"success"===e.status?(m.b.success("\u5bc6\u7801\u4fee\u6539\u6210\u529f\uff01"),window.location.href="/home/uim"):(m.b.error("\u5bc6\u7801\u4fee\u6539\u5931\u8d25\uff01"),window.location.href="/home/uim")})))},n.componentWillMount=function(){console.log(n.props),n.setState({data:n.props.data[0]})},n.state={data:{uid:1,account:"",upassword:""}},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.data,t=void 0===e?{uid:1,account:"",upassword:""}:e;return Object(C.jsxs)("div",{children:[Object(C.jsx)(q.a,{className:"site-page-header",onBack:function(){window.location.href="/home/uim"},subTitle:"\u7528\u6237\u4fe1\u606f\u7ba1\u7406/\u4fee\u6539\u7528\u6237\u5bc6\u7801",style:{paddingLeft:10,backgroundColor:"white"}}),Object(C.jsxs)(p.a,Object(h.a)(Object(h.a)({},M),{},{id:"changePasswordFrom",name:"basic",initialValues:{remember:!0},size:"large",onFinish:this.onFinish.bind(this,t),children:[Object(C.jsx)(p.a.Item,{label:"uid",name:"uid",required:!1,initialValue:"".concat(t.uid),hidden:!0,children:Object(C.jsx)(f.a,{hidden:!0})}),Object(C.jsxs)(p.a.Item,{label:"\u7528\u6237\u540d\u79f0",name:"username",required:!1,initialValue:"".concat(t.account),children:[Object(C.jsx)(f.a,{hidden:!0}),t.account]}),Object(C.jsx)(p.a.Item,{label:"\u7528\u6237\u5bc6\u7801",name:"modifiedpassword",required:!1,initialValue:"".concat(t.upassword),children:Object(C.jsx)(f.a.Password,{})}),Object(C.jsx)(p.a.Item,Object(h.a)(Object(h.a)({},W),{},{children:Object(C.jsx)(g.a,{type:"primary",htmlType:"submit",style:{borderRadius:5},children:"\u63d0\u4ea4\u4fee\u6539"})}))]}))]})}}]),a}(n.Component),B=function(e){return{current:e.pagination.current,pageSize:e.pagination.pageSize}},H=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={data:[],pagination:{current:1,pageSize:6,total:""},loading:!1,status:0},e.columns=[{title:"\u7528\u6237ID",dataIndex:"uid",key:"uid"},{title:"\u8d26\u53f7",dataIndex:"account",key:"account"},{title:"\u5bc6\u7801",dataIndex:"upassword",key:"upassword"},{title:"\u64cd\u4f5c",dataIndex:"uid",key:"uid",render:function(t){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(g.a,{type:"primary",style:{borderRadius:5},children:Object(C.jsx)(u.b,{to:"/home/uim/changepassword/".concat(t),children:"\u66f4\u6539\u5bc6\u7801"})}),Object(C.jsx)(g.a,{type:"primary",style:{borderRadius:5,marginLeft:20},danger:!0,children:Object(C.jsx)(P.a,{title:"\u786e\u5b9a\u5220\u9664\u8be5\u7528\u6237\u5417?",onConfirm:e.confirm.bind(Object(E.a)(e),t),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",children:"\u5220\u9664\u7528\u6237"})})]})}}],e.handleTableChange=function(t){console.log(t);var a=t.current,n=t.pageSize;e.setState({pagination:{current:a,pageSize:n}}),e.fetch({pagination:t})},e.fetch=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setState({loading:!0}),x()({url:"/userlist",method:"post",type:"json",data:B(t)}).then((function(a){console.log(a,111111),e.setState({loading:!1,data:a.users,pagination:Object(h.a)(Object(h.a)({},t.pagination),{},{total:a.total})})}))},e.UimChangePasswordComponent=function(t){var a=1*t.match.params.uid,n=e.state.data.filter((function(e){return e.uid===a?e:0}));return console.log(n),Object(C.jsx)(V,{data:n})},e}return Object(o.a)(a,[{key:"confirm",value:function(e){var t=this,a=this.state.pagination,n={uid:e,current:a.current,pageSize:a.pageSize};x()({url:"/deleteuser",method:"post",type:"json",data:n}).then((function(e){console.log(e),t.setState({data:e.users}),"success"===e.status?m.b.success("\u5220\u9664\u6210\u529f"):m.b.error("\u5220\u9664\u5931\u8d25")}))}},{key:"componentDidMount",value:function(){var e=this.state.pagination;this.fetch({pagination:e})}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.pagination,n=e.loading;return Object(C.jsxs)("div",{children:[Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsxs)("div",{className:"descwraper",children:[Object(C.jsxs)(A.a,{className:"bdc",children:[Object(C.jsx)(A.a.Item,{children:Object(C.jsx)("a",{href:"/home",children:"\u4e3b\u9875"})}),Object(C.jsx)(A.a.Item,{children:"\u7528\u6237\u4fe1\u606f\u7ba1\u7406"})]}),Object(C.jsx)(L.b,{title:"\u7528\u6237\u5217\u8868",className:"desc",children:Object(C.jsx)(L.b.Item,{children:"\u7528\u6237\u4fe1\u606f\u5c55\u793a\uff0c\u53ef\u8fdb\u884c\u7528\u6237\u5bc6\u7801\u4fee\u6539\u548c\u5220\u9664\u7528\u6237\u64cd\u4f5c"})})]}),Object(C.jsx)("div",{className:"contentWraper",children:Object(C.jsx)(u.a,{children:Object(C.jsxs)(j.d,{children:[Object(C.jsx)(j.b,{path:"/home/uim/changepassword/:uid?",component:this.UimChangePasswordComponent}),Object(C.jsx)(j.b,{path:"/home/uim",component:function(){return Object(C.jsx)(T.a,{columns:this.columns,rowKey:Object(F.a)(),dataSource:t,pagination:a,loading:n,onChange:this.handleTableChange})}.bind(this)})]})})})]})}}]),a}(n.Component),U=a(440),_=a(147),J=a.n(_),Y=(a(413),{labelCol:{span:8},wrapperCol:{span:6}}),K={wrapperCol:{offset:10,span:16}},$=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).property={name:"file",headers:{authorization:"authorization-text"},beforeUpload:function(){return!1},maxCount:1},n.uploadTheadid=function(){},n.onFinish=function(e){if(-1===e.adCompany.search(/\s/)&&-1===e.adName.search(/\s/)&&-1===e.category.search(/\s/)){var t=new FormData;t.append("file",e.file.file),t.append("adCompany",e.adCompany),t.append("adName",e.adName),t.append("category",e.category),J()({url:"/addad",method:"post",data:t}).then((function(e){console.log(e),m.b.success("\u5e7f\u544a\u6dfb\u52a0\u6210\u529f\uff01"),window.location.href="/home/adm"}),(function(){m.b.error("\u5e7f\u544a\u6dfb\u52a0\u5931\u8d25\uff01")}))}else m.b.warning("\u8f93\u5165\u5185\u5bb9\u4e0d\u80fd\u542b\u6709\u7a7a\u683c\uff01")},n.state={file:"",adid:"",adNumber:e},console.log(e),n}return Object(o.a)(a,[{key:"render",value:function(){return this.state.adNumber>=3?window.location.href="/home/adm":Object(C.jsxs)("div",{children:[Object(C.jsx)(q.a,{className:"site-page-header",onBack:function(){window.location.href="/home/adm"},subTitle:"\u5e7f\u544a\u6295\u653e\u7ba1\u7406/\u65b0\u589e\u5e7f\u544a",style:{paddingLeft:10,backgroundColor:"white"}}),Object(C.jsxs)(p.a,Object(h.a)(Object(h.a)({},Y),{},{id:"addAdForm",name:"basic",size:"large",initialValues:{remember:!0},onFinish:this.onFinish,encType:"multipart/form-data",children:[Object(C.jsx)(p.a.Item,{label:"\u5e7f\u544a\u516c\u53f8",name:"adCompany",required:!1,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e7f\u544a\u516c\u53f8\u540d\u79f0\uff01"}],children:Object(C.jsx)(f.a,{})}),Object(C.jsx)(p.a.Item,{label:"\u5e7f\u544a\u540d\u79f0",name:"adName",required:!1,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e7f\u544a\u540d\u79f0\uff01"}],children:Object(C.jsx)(f.a,{})}),Object(C.jsx)(p.a.Item,{label:"\u6240\u5c5e\u5206\u7c7b",name:"category",required:!1,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e7f\u544a\u5206\u7c7b\uff01"}],children:Object(C.jsx)(f.a,{})}),Object(C.jsx)(p.a.Item,{label:"\u56fe\u7247\u5730\u5740",name:"file",required:!1,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e7f\u544a\u56fe\u7247\u5730\u5740\uff01"}],children:Object(C.jsx)(U.a,Object(h.a)(Object(h.a)({},this.property),{},{children:Object(C.jsx)(g.a,{type:"primary",size:"middle",style:{borderRadius:5},children:"\u4e0a\u4f20\u56fe\u7247"})}))}),Object(C.jsx)(p.a.Item,Object(h.a)(Object(h.a)({},K),{},{children:Object(C.jsx)(g.a,{type:"primary",htmlType:"submit",style:{borderRadius:5},children:"\u6dfb\u52a0"})}))]}))]})}}]),a}(n.Component),Q=(a(414),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={adData:[],adid:""},e.property={name:"file",headers:{authorization:"authorization-text"},showUploadList:!1,customRequest:function(t){console.log(e.state.adData);var a=new FormData;a.append("file",t.file),a.append("adid",e.state.adid),J()({url:"/modifyad",method:"post",data:a}).then((function(t){console.log(t);var a=t.data;if("\u56fe\u7247\u4fee\u6539\u6210\u529f"===a.status){var n=e.state.adData;n.forEach((function(t){t.adid===e.state.adid&&(t.picture=a.url)})),e.setState({adData:n}),m.b.success("\u5e7f\u544a\u56fe\u7247\u66f4\u6539\u6210\u529f\uff01")}else m.b.error("\u5e7f\u544a\u56fe\u7247\u66f4\u6539\u5931\u8d25\uff01")}))},maxCount:1},e.getAdid=function(t){e.setState({adid:t})},e.columns=[{title:"adid",dataIndex:"adid",key:"adid",defaultSortOrder:"ascend",sorter:function(e,t){return e.adid-t.adid}},{title:"\u5e7f\u544a\u516c\u53f8",dataIndex:"adCompany",key:"adCompany"},{title:"\u5e7f\u544a\u540d\u79f0",dataIndex:"adName",key:"adName"},{title:"\u6240\u5c5e\u5206\u7c7b",dataIndex:"category",key:"category"},{title:"\u5e7f\u544a\u56fe\u7247",key:"picture",dataIndex:"picture",render:function(e){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(b.a,{preview:!1,width:150,src:e})})}},{title:"\u64cd\u4f5c",dataIndex:"adid",key:"operation",render:function(t){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(U.a,Object(h.a)(Object(h.a)({},e.property),{},{children:Object(C.jsx)(g.a,{type:"primary",style:{borderRadius:5},onClick:e.getAdid.bind(Object(E.a)(e),t),children:"\u4fee\u6539\u56fe\u7247"})})),Object(C.jsx)(g.a,{type:"primary",style:{borderRadius:5,marginLeft:13},danger:!0,children:Object(C.jsx)(P.a,{title:"\u786e\u5b9a\u5220\u9664\u8be5\u5e7f\u544a\u5417?",onConfirm:e.confirm.bind(Object(E.a)(e),t),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",children:"\u5220\u9664\u5e7f\u544a"})})]})}}],e.TableComponent=function(){return Object(C.jsx)(T.a,{columns:e.columns,dataSource:e.state.adData,pagination:!1})},e}return Object(o.a)(a,[{key:"confirm",value:function(e){var t=this,a={adid:e};console.log(this.state.adData),x()({url:"/deletead",method:"post",type:"json",data:a}).then((function(e){console.log(e),"success"===e.status?(t.setState({adData:e.results}),m.b.success("\u5220\u9664\u6210\u529f")):m.b.error("\u5220\u9664\u5931\u8d25")}))}},{key:"componentDidMount",value:function(){var e=this;x()({url:"/adlist",method:"get",type:"json"}).then((function(t){console.log(t),e.setState({adData:t})}))}},{key:"render",value:function(){return console.log("\u6211\u88ab\u6e32\u67d3\u4e86"),Object(C.jsx)("div",{children:Object(C.jsxs)(u.a,{children:[Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsxs)("div",{className:"descwraper",children:[Object(C.jsxs)(A.a,{className:"bdc",children:[Object(C.jsx)(A.a.Item,{children:Object(C.jsx)("a",{href:"/home",children:"\u4e3b\u9875"})}),Object(C.jsx)(A.a.Item,{children:"\u5e7f\u544a\u6295\u653e\u7ba1\u7406"})]}),Object(C.jsx)(L.b,{title:"\u5e7f\u544a\u7ba1\u7406",className:"desc",children:Object(C.jsx)(L.b.Item,{children:"\u5e7f\u544a\u4fe1\u606f\u5c55\u793a\uff0c\u53ef\u4ee5\u8fdb\u884c\u65b0\u589e\u5e7f\u544a\uff0c\u66f4\u6539\u5e7f\u544a\uff0c\u5220\u9664\u5e7f\u544a\u64cd\u4f5c\u3002\u6ce8\u610f\uff1a\u6700\u591a\u53ea\u5141\u8bb83\u4e2a\u5e7f\u544a\u4f4d"})}),Object(C.jsx)(R.a,{style:{margin:0}}),this.state.adData.length>=3?Object(C.jsx)(g.a,{type:"primary",style:{marginBottom:10,marginTop:10,borderRadius:5},danger:!0,children:"\u5e7f\u544a\u4f4d\u5df2\u8fbe3\u4f4d"}):Object(C.jsx)(g.a,{type:"primary",style:{marginBottom:10,marginTop:10,borderRadius:5},children:Object(C.jsx)(u.b,{to:"/home/adm/addad",children:"\u65b0\u589e\u5e7f\u544a"})})]}),Object(C.jsx)("div",{className:"contentWraper",children:Object(C.jsxs)(j.d,{children:[Object(C.jsx)(j.b,{path:"/home/adm/addad",component:$.bind(this,this.state.adData.length)}),Object(C.jsx)(j.b,{path:"/home/adm",component:this.TableComponent})]})})]})})}}]),a}(n.Component)),X=a(169),G=a(95),Z=a(449),ee=a(444),te=a(113),ae=a(158),ne=a(216),se=a(203),ce=a.n(se),ie=(a(419),a(442)),re=a(451),oe=a(90),de=(a(420),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={data:{},isEdit:!1},e.edit=function(){e.setState({isEdit:!0})},e.delete=function(t){console.log(typeof t),e.props.renderCommodityList(t)},e.comfimEdit=function(){var t=[e.state.data.cid,e.currentPriceElev.state.value,e.inventoryElev.state.value,e.originalPriceElev.state.value],a={cid:t[0],currentPrice:t[1],inventory:t[2],originalPrice:t[3]};console.log(e.state.data),console.log(a),x()({url:"/editcommodity",method:"post",type:"json",data:a}).then((function(t){if("success"===t.status){m.b.success("\u66f4\u6539\u6210\u529f\uff01"),console.log(e.state.data);var n=e.state.data,s=[a.currentPrice,a.inventory,a.originalPrice];n.currentPrice=s[0],n.inventory=s[1],n.originalPrice=s[2],e.setState({data:n,isEdit:!1})}else{m.b.error("\u66f4\u6539\u5931\u8d25\uff01");var c=e.state.data;e.setState({data:c,isEdit:!1})}}))},e.propertyEdit=function(t){var a=e.state.data;return e.state.isEdit?Object(C.jsx)(f.a,{className:"editInput",defaultValue:a[t],onChange:e["".concat(t,"Change")],ref:function(a){e["".concat(t,"Elev")]=a}}):a[t]},e.componentDidMount=function(){e.setState({data:e.props.data})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.data;e.src;var t=this.state.isEdit;return Object(C.jsxs)(ie.a,{style:{width:307,height:375,margin:"0 auto"},cover:Object(C.jsx)(b.a,{alt:"\u56fe\u7247\u51fa\u9519",src:e.src,height:186,width:307,preview:!1}),actions:[t?Object(C.jsx)(g.a,{type:"primary",size:"small",style:{borderRadius:5},onClick:this.comfimEdit,children:"\u786e\u8ba4"}):Object(C.jsx)(re.a,{onClick:this.edit},"edit"),Object(C.jsx)(P.a,{title:"\u786e\u5b9a\u5220\u9664\u8be5\u5546\u54c1\u5417?",onConfirm:this.delete.bind(this,e.cid),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",children:Object(C.jsx)(oe.a,{},"ellipsis")})],children:[Object(C.jsx)("p",{style:{margin:"10PX 0 0 0 ",fontWeight:900,fontSize:18,textAlign:"center"},children:e.commodityName}),Object(C.jsxs)("div",{className:"detailWraper",children:[Object(C.jsxs)("div",{className:"detail",children:["\u7f16\u53f7: ",e.cid]}),Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsxs)("div",{className:"detail",children:["\u73b0\u4ef7: ",this.propertyEdit("currentPrice"),"\u5143"]}),Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsxs)("div",{className:"detail",children:["\u8fdb\u8d27\u91cf: ",this.propertyEdit("inventory"),"\u4ef6 "]}),Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsxs)("div",{className:"detail",children:["\u89c4\u683c: ",e.weight,"g "]})]}),Object(C.jsxs)("div",{className:"detailWraper",children:[Object(C.jsxs)("div",{className:"detail",title:e.category,children:["\u5206\u7c7b: ",e.category," "]}),Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsxs)("div",{className:"detail",children:["\u539f\u4ef7: ",this.propertyEdit("originalPrice"),"\u5143 "]}),Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsxs)("div",{className:"detail",children:["\u9500\u91cf: ",e.salesVolume,"\u4ef6 "]}),Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsxs)("div",{className:"detail",title:e.originalPlace,children:["\u4ea7\u5730: ",e.originalPlace," "]})]})]})}}]),a}(n.Component)),le=(a(421),{labelCol:{span:8},wrapperCol:{span:6}}),ue={wrapperCol:{offset:10,span:16}},je=X.a.Option,he=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={subCategory:[]},e.property={name:"file",headers:{authorization:"authorization-text"},beforeUpload:function(){return!1},maxCount:1},e.onFinish=function(e){e.commodityName=e.commodityName.toString().replace(/\s/,""),e.originalPlace=e.originalPlace.toString().replace(/\s/,""),e.currentPrice=e.originalPrice,e.status="\u5728\u552e",e.salesVolume=0,e.file=e.file.file;var t=new FormData;t.append("commodityName",e.commodityName),t.append("inventory",e.inventory),t.append("originalPrice",e.originalPrice),t.append("currentPrice",e.currentPrice),t.append("originalPlace",e.originalPlace),t.append("weight",e.weight),t.append("category",e.category),t.append("status",e.status),t.append("salesVolume",e.salesVolume),t.append("file",e.file),J()({url:"/addcommodity",method:"post",data:t}).then((function(e){console.log(e),m.b.success("\u5546\u54c1\u6dfb\u52a0\u6210\u529f\uff01"),window.location.href="/home/cim"}),(function(){m.b.error("\u5546\u54c1\u6dfb\u52a0\u5931\u8d25\uff01")}))},e.showCategoryList=function(){return e.state.subCategory.map((function(e,t){return Object(C.jsx)(je,{value:"".concat(e.category),children:e.category},Object(F.a)())}))},e.categorySelectChange=function(t){e.categorySelect.value=t},e.handleFileChange=function(e){console.log(e.target.files[0])},e.componentDidMount=function(){x()({url:"/category/allcategory",method:"get",type:"json"}).then((function(t){e.setState({subCategory:t})}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"contentWraper",style:{minHeight:0},children:[Object(C.jsx)(q.a,{className:"site-page-header",onBack:function(){window.location.href="/home/cim"},subTitle:"\u5546\u54c1\u4fe1\u606f\u7ba1\u7406/\u65b0\u589e\u5546\u54c1",style:{paddingLeft:10,backgroundColor:"white"}}),Object(C.jsxs)(p.a,Object(h.a)(Object(h.a)({},le),{},{id:"addCommodityForm",name:"basic",size:"large",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(C.jsx)(p.a.Item,{label:"\u5546\u54c1\u540d\u79f0",name:"commodityName",required:!1,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0\uff01"}],children:Object(C.jsx)(f.a,{})}),Object(C.jsx)(p.a.Item,{label:"\u5546\u54c1\u5206\u7c7b",name:"category",required:!1,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5546\u54c1\u5206\u7c7b\uff01"}],children:Object(C.jsx)(X.a,{name:"category",style:{width:"100%"},ref:function(t){e.categorySelect=t},onChange:this.categorySelectChange,children:this.showCategoryList()})}),Object(C.jsx)(p.a.Item,{hidden:!0,name:"status",children:Object(C.jsx)(f.a,{value:""})}),Object(C.jsx)(p.a.Item,{hidden:!0,label:"\u5546\u54c1\u552e\u4ef7",name:"currentPrice",children:Object(C.jsx)(f.a,{})}),Object(C.jsx)(p.a.Item,{label:"\u5546\u54c1\u4ef7\u683c",name:"originalPrice",required:!1,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u539f\u4ef7\uff01"}],children:Object(C.jsx)(ee.a,{className:"input-number",min:0})}),Object(C.jsx)(p.a.Item,{label:"\u5546\u54c1\u5e93\u5b58",name:"inventory",required:!1,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u5e93\u5b58\uff01"}],children:Object(C.jsx)(ee.a,{className:"input-number",min:0})}),Object(C.jsx)(p.a.Item,{hidden:!0,name:"salesVolume",children:Object(C.jsx)(f.a,{value:""})}),Object(C.jsx)(p.a.Item,{label:"\u5546\u54c1\u89c4\u683c",name:"weight",required:!1,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u89c4\u683c\uff01"}],children:Object(C.jsx)(ee.a,{className:"input-number",min:0})}),Object(C.jsx)(p.a.Item,{label:"\u5546\u54c1\u4ea7\u5730",name:"originalPlace",required:!1,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u4ea7\u5730\uff01"}],children:Object(C.jsx)(f.a,{})}),Object(C.jsx)(p.a.Item,{label:"\u5546\u54c1\u56fe\u7247",name:"file",required:!1,rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u5546\u54c1\u56fe\u7247\uff01"}],children:Object(C.jsx)(U.a,Object(h.a)(Object(h.a)({},this.property),{},{children:Object(C.jsx)(g.a,{type:"primary",size:"middle",style:{borderRadius:5},children:"\u4e0a\u4f20\u56fe\u7247"})}))}),Object(C.jsx)(p.a.Item,Object(h.a)(Object(h.a)({},ue),{},{children:Object(C.jsx)(g.a,{type:"primary",htmlType:"submit",style:{borderRadius:5},children:"\u6dfb\u52a0"})}))]}))]})}}]),a}(n.Component),me=X.a.Option,be=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={data:[],subCategory:[],loading:!1,hasMore:!0,total:"",isAddCategory:!1,count:0,pageSize:8},e.fetchData=function(t){var a=e.state.count,n=e.state.pageSize;a+=1,e.setState({count:a});var s={count:a,pageSize:n};x()({url:"/commoditylist",type:"json",method:"post",data:s,success:function(e){t(e)}})},e.handleInfiniteOnLoad=function(){var t=e.state,a=t.data,n=t.total;if(e.setState({loading:!0}),a.length>=n)return m.b.warning("\u5546\u54c1\u5df2\u5c55\u793a\u5b8c\u6bd5"),void e.setState({hasMore:!1,loading:!1});e.fetchData((function(t){a=a.concat(t.commodities),e.setState({data:a,loading:!1,total:t.total})}))},e.renderCommodityList=function(t){var a=e.state.count*e.state.pageSize;x()({url:"/deletecommodity",method:"post",type:"json",data:{cid:t,end:a}}).then((function(t){console.log(t),e.setState({data:t.commodities}),m.b.success("\u5220\u9664\u6210\u529f")}),(function(){m.b.error("\u5220\u9664\u5931\u8d25")}))},e.showCommodity=function(){return console.log(e.state.data),e.state.data.map((function(t,a){return Object(C.jsx)(G.a,{span:6,style:{marginBottom:20},children:Object(C.jsx)(de,{data:t,renderCommodityList:e.renderCommodityList})},Object(F.a)())}))},e.CimSearch=function(){var t=[e.idInput.value,e.nameInput.state.value,e.categorySelect.value,void 0===e.statusSelect.value?e.statusSelect.props.defaultValue:e.statusSelect.value],a=t[0],n=t[1],s=void 0===n?" ":n,c=t[2],i=void 0===c?" ":c,r=t[3];function o(e){e=(e=e.replace(/\s/g,",")).split(/[,\uff0c\uff1b;.\u3002]/g);var t="";return e.forEach((function(e){""!==e&&(t+=e)})),t}""!==a&&(a*=1);var d={cid:a,commodityName:s=o(s),category:i=o(i),status:r};console.log(d),x()({url:"/searchcommodity",method:"post",type:"json",data:d}).then((function(t){console.log(t),"success"===t.status?(e.setState({data:t.commodities,total:t.total}),m.b.success("\u641c\u7d22\u6210\u529f\uff01")):m.b.error("\u67e5\u65e0\u8be5\u5546\u54c1\uff01")}))},e.statusSelectChange=function(t){console.log(t),e.statusSelect.value=t},e.categorySelectChange=function(t){console.log(t),e.categorySelect.value=t},e.showCategoryList=function(){return e.state.subCategory.map((function(e,t){return Object(C.jsx)(me,{value:"".concat(e.category),children:e.category},Object(F.a)())}))},e.showCommodityInit=function(){var t=function(){return Object(C.jsx)("div",{className:"background",children:Object(C.jsx)(I.a,{target:function(){return e.commodityListElev},children:Object(C.jsxs)("div",{className:"search",children:[Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsxs)(Z.b,{style:{marginTop:20},size:20,children:[Object(C.jsxs)("div",{children:["\u5546\u54c1\u7f16\u53f7:",Object(C.jsx)(ee.a,{name:"cid",className:"CimInput",min:0,ref:function(t){e.idInput=t}})]}),Object(C.jsxs)("div",{children:["\u5546\u54c1\u540d\u79f0:",Object(C.jsx)(f.a,{name:"commodity",className:"CimInput",ref:function(t){e.nameInput=t}})]}),Object(C.jsxs)("div",{children:["\u5546\u54c1\u5206\u7c7b:",Object(C.jsx)(X.a,{name:"category",style:{width:100},ref:function(t){e.categorySelect=t},onChange:e.categorySelectChange,children:e.showCategoryList()})]}),Object(C.jsxs)("div",{children:["\u5546\u54c1\u72b6\u6001:",Object(C.jsxs)(X.a,{name:"status",style:{width:100},defaultValue:"\u5728\u552e",ref:function(t){e.statusSelect=t},onChange:e.statusSelectChange,children:[Object(C.jsx)(me,{value:"\u5728\u552e",children:"\u5728\u552e"}),Object(C.jsx)(me,{value:"\u5df2\u4e0b\u67b6",children:"\u5df2\u4e0b\u67b6"})]})]}),Object(C.jsx)("div",{style:{marginLeft:20},children:Object(C.jsx)(g.a,{type:"primary",shape:"circle",icon:Object(C.jsx)(ne.a,{}),onClick:e.CimSearch})}),Object(C.jsx)("div",{style:{marginLeft:20},children:Object(C.jsx)(g.a,{type:"primary",style:{borderRadius:5},children:Object(C.jsx)(u.b,{to:"/home/cim/addcommodity",children:"\u6dfb\u52a0\u5546\u54c1"})})})]})]})})})};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(t,{}),Object(C.jsx)("div",{className:"contentWraper",children:Object(C.jsx)("div",{style:{padding:0},children:void 0===e.state.data[0]?Object(C.jsx)(te.a,{style:{paddingTop:150}}):Object(C.jsx)(ae.a,{gutter:10,className:"",children:e.showCommodity()})})})]})},e.componentDidMount=function(){console.log("\u9875\u9762\u521d\u59cb\u6e32\u67d3"),e.fetchData((function(t){console.log(t),e.setState({data:t.commodities,total:t.total})})),x()({url:"/category/allcategory",method:"get",type:"json"}).then((function(t){e.setState({subCategory:t})}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsx)("div",{className:"content-scroll",ref:function(t){e.commodityListElev=t},children:Object(C.jsxs)(ce.a,{initialLoad:!1,pageStart:0,loadMore:this.handleInfiniteOnLoad,hasMore:!this.state.loading&&this.state.hasMore,useWindow:!1,children:[Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsxs)("div",{className:"descwraper",children:[Object(C.jsxs)(A.a,{className:"bdc",children:[Object(C.jsx)(A.a.Item,{children:Object(C.jsx)("a",{href:"/home",children:"\u4e3b\u9875"})}),Object(C.jsx)(A.a.Item,{children:"\u5546\u54c1\u4fe1\u606f\u7ba1\u7406"})]}),Object(C.jsx)(L.b,{title:"\u5546\u54c1\u7ba1\u7406",className:"desc",children:Object(C.jsx)(L.b.Item,{children:"\u4ed3\u5e93\u5546\u54c1\u4fe1\u606f\u5c55\u793a\uff0c\u53ef\u4ee5\u8fdb\u884c\u65b0\u589e\u5546\u54c1\uff0c\u641c\u7d22\u5546\u54c1\uff0c\u7f16\u8f91\u5546\u54c1\uff0c\u5220\u9664\u5546\u54c1\u64cd\u4f5c"})})]}),Object(C.jsx)(u.a,{children:Object(C.jsxs)(j.d,{children:[Object(C.jsx)(j.b,{path:"/home/cim/addcommodity",component:he}),Object(C.jsx)(j.b,{path:"/home/cim",component:this.showCommodityInit})]})})]})})}}]),a}(n.Component),pe=a(235),fe=(a(423),function(e){e.forEach((function(e){if(console.log(e.status),void 0===e.status)switch(e.item){case"willDelivery":e.item="\u5f85\u53d1\u8d27";break;case"delivery":e.item="\u914d\u9001\u4e2d";break;case"success":e.item="\u5df2\u6210\u4ea4";break;case"refund":e.item="\u5f85\u9000\u6b3e";break;case"refunded":e.item="\u5df2\u9000\u6b3e";break;case"totalSuccess":e.item="\u603b\u6210\u4ea4\u6570";break;case"totalRefunded":e.item="\u603b\u5931\u8d25\u6570";break;default:return}else switch(e.status){case"willdelivery":e.status="\u5f85\u53d1\u8d27";break;case"delivery":e.status="\u914d\u9001\u4e2d";break;case"success":e.status="\u5df2\u6210\u4ea4";break;case"refund":e.status="\u5f85\u9000\u6b3e";break;case"refunded":e.status="\u5df2\u9000\u6b3e";break;default:return}}))});function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return console.log(1*e.toFixed(t)),1*e.toFixed(t)}var ge=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={results:{}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;x()({url:"/dashboard/showdashboard",type:"json",method:"get"}).then((function(t){console.log(t);var a={sales:{totalSales:t.totalSales,todaySale:t.todaySale},willDelivery:{totalWillDelivery:t.willDelivery},delivery:{totalDelivery:t.delivery},refund:{totalRefund:t.refund},refunded:{totalRefunded:t.refunded},success:{totalSuccess:t.success}},n=t.willDelivery+t.delivery+t.success+t.refund+t.refunded;console.log(typeof(1*t.willDelivery/n).toFixed(4));var s=[{item:"willDelivery",count:t.willDelivery,percent:Oe(1*t.willDelivery/n)},{item:"delivery",count:t.delivery,percent:Oe(1*t.delivery/n)},{item:"success",count:t.success,percent:Oe(1*t.success/n)},{item:"refund",count:t.refund,percent:Oe(1*t.refund/n)},{item:"refunded",count:t.refunded,percent:Oe(1*t.refunded/n)}],c=t.success+t.refunded,i=[{item:"totalSuccess",count:t.success,percent:Oe(t.success/c)},{item:"totalRefunded",count:t.refunded,percent:Oe(t.refunded/c)}];fe(s),fe(i);var r={ofDetail:a,ofSummary:s,ofSuccessRate:i};e.setState({results:r},(function(){var t=e.state.results,a=setTimeout((function(){var e=t.ofSummary,n=new pe.a({container:"order-from-details",autoFit:!0,height:300,width:630});n.coordinate("theta",{radius:.75}),n.data(e),n.scale("percent",{formatter:function(e){return e=100*e+"%"}}),n.tooltip({showTitle:!1,showMarkers:!1}),n.interval().position("percent").color("item").label("percent",{content:function(e){return"".concat(e.item,": ").concat(100*e.percent,"%")}}).adjust("stack"),n.interaction("element-active"),n.render(),clearTimeout(a)}),0),n=setTimeout((function(){var e=t.ofSuccessRate,a=new pe.a({container:"order-finish-rate",autoFit:!0,height:300,width:630});a.coordinate("theta",{radius:.75}),a.data(e),a.scale("percent",{formatter:function(e){return e=100*e+"%"}}),a.tooltip({showTitle:!1,showMarkers:!1}),a.interval().position("percent").color("item").label("percent",{content:function(e){return"".concat(e.item,": ").concat(100*e.percent,"%")}}).adjust("stack"),a.interaction("element-active"),a.render(),clearTimeout(n)}),0)}))}))}},{key:"render",value:function(){var e=this.state.results.ofDetail;return console.log(e,this.state.results),Object(C.jsxs)("div",{className:"contentWraper",children:[Object(C.jsx)("div",{className:"site-card-wrapper ",children:Object(C.jsxs)(ae.a,{gutter:16,children:[Object(C.jsx)(G.a,{span:4,children:Object(C.jsx)(ie.a,{className:"data-card",title:"\u4eca\u65e5\u65b0\u589e\uff1a".concat(void 0===e?0:e.sales.todaySale,"\u5143"),bordered:!0,children:Object(C.jsxs)("div",{className:"dataCard",children:["\u603b\u9500\u552e\u989d\uff1a",Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"Card_data",children:["".concat(void 0===e?0:e.sales.totalSales),"\u5143"]})]})})}),Object(C.jsx)(G.a,{span:4,children:Object(C.jsx)(ie.a,{title:"\u5f85\u53d1\u8d27",bordered:!0,children:Object(C.jsxs)("div",{className:"dataCard",children:["\u7d2f\u8ba1\u6570\u91cf\uff1a",Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"Card_data",children:"".concat(void 0===e?0:e.willDelivery.totalWillDelivery)})]})})}),Object(C.jsx)(G.a,{span:4,children:Object(C.jsx)(ie.a,{title:"\u914d\u9001\u4e2d",bordered:!0,children:Object(C.jsxs)("div",{className:"dataCard",children:["\u7d2f\u8ba1\u6570\u91cf\uff1a",Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"Card_data",children:"".concat(void 0===e?0:e.delivery.totalDelivery)})]})})}),Object(C.jsx)(G.a,{span:4,children:Object(C.jsx)(ie.a,{title:"\u5f85\u9000\u6b3e",bordered:!0,children:Object(C.jsxs)("div",{className:"dataCard",children:["\u7d2f\u8ba1\u6570\u91cf\uff1a",Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"Card_data",children:"".concat(void 0===e?0:e.refund.totalRefund)})]})})}),Object(C.jsx)(G.a,{span:4,children:Object(C.jsx)(ie.a,{title:"\u5df2\u9000\u6b3e",bordered:!0,children:Object(C.jsxs)("div",{className:"dataCard",children:["\u7d2f\u8ba1\u6570\u91cf\uff1a",Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"Card_data",children:"".concat(void 0===e?0:e.refunded.totalRefunded)})]})})}),Object(C.jsx)(G.a,{span:4,children:Object(C.jsx)(ie.a,{title:"\u5df2\u6210\u4ea4",bordered:!0,children:Object(C.jsxs)("div",{className:"dataCard",children:["\u7d2f\u8ba1\u6570\u91cf\uff1a",Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"Card_data",children:"".concat(void 0===e?0:e.success.totalSuccess)})]})})})]})}),Object(C.jsxs)("div",{className:"chart-rule",children:[Object(C.jsxs)("div",{className:"chart-wraper",children:[Object(C.jsx)("div",{className:"chart-title",children:"\u8ba2\u5355\u72b6\u6001\u6bd4\u7387"}),Object(C.jsx)("div",{id:"order-from-details"})]}),Object(C.jsxs)("div",{className:"chart-wraper",children:[Object(C.jsx)("div",{className:"chart-title",children:"\u8ba2\u5355\u6210\u8d25\u6bd4\u7387"}),Object(C.jsx)("div",{id:"order-finish-rate"})]})]})]})}}]),a}(n.Component),ye=a(439),xe=a(20),ve=(a(424),a(290)),Ce=a.n(ve),we=(a(425),ye.a.RangePicker),Se=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={date:[],data:[],pagination:{current:1,pageSize:5,total:""},loading:!1,status:"willdelivery",ofDetails:[]},e.confirmStatus=function(){switch(e.state.status){case"willdelivery":return"willdelivery";case"delivery":return"delivery";case"success":return"success";case"refund":return"refund";case"refunded":return"refunded";default:return"sendgoods"}},e.getColumns=function(){return[{title:"\u8ba2\u5355id",dataIndex:"ofid",key:"ofid",defaultSortOrder:"ascend",sorter:function(e,t){return e.id-t.id}},{title:"\u7528\u6237id",dataIndex:"uid",key:"uid"},{title:"\u603b\u4ef7",dataIndex:"totalPrice",key:"totalPrice"},{title:"\u4e0b\u5355\u65f6\u95f4",dataIndex:"time",key:"time"},{title:"\u5907\u6ce8",dataIndex:"remarks",key:"remarks"},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"status",key:"status",className:e.confirmStatus()},"success"!==e.state.status&&"refunded"!==e.state.status?{title:"\u64cd\u4f5c",dataIndex:"ofid",key:"ofid",render:function(t){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(g.a,{type:"primary",style:{borderRadius:5,marginLeft:20},children:Object(C.jsx)(P.a,{title:"\u786e\u5b9a".concat(e.changeOprationButtonWord(e.state.status),"\u5417?"),onConfirm:e.confirmChangeStatus.bind(Object(E.a)(e),t),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",children:e.changeOprationButtonWord(e.state.status)})})})}}:{className:"of-last-item-hidden"}]},e.changeOprationButtonWord=function(e){switch(e){case"willdelivery":return"\u53d1\u8d27";case"delivery":return"\u5b8c\u6210\u8ba2\u5355";case"refund":return"\u9000\u6b3e";default:return"\u53d1\u8d27"}},e.confirmChangeStatus=function(t){var a=e.state.pagination,n={ofid:t,current:a.current,pageSize:a.pageSize,startStatus:e.state.status,endStatus:e.confirmEndStatus()};x()({url:"/om/changeofstatus",method:"post",type:"json",data:n}).then((function(t){console.log(t);var a=t;fe(a.results),e.setState({data:a.results}),"success"===t.status?m.b.success("\u5904\u7406\u6210\u529f"):m.b.error("\u5904\u7406\u5931\u8d25")}))},e.confirmEndStatus=function(){switch(e.state.status){case"willdelivery":return"delivery";case"delivery":return"success";case"refund":return"refunded";default:return}},e.dateOnChange=function(t,a){var n=[a[0].replace(/\//g,"-"),a[1].replace(/\//g,"-")];e.setState({date:n})},e.OmSearch=function(){console.log(e.state.date);var t=[e.ofidInput.value,e.uidInput.state.value,e.state.date[0],e.state.date[1],e.state.status],a=t[2],n=t[3],s=t[4],c={ofid:t[0],uid:t[1],dateSta:a=JSON.stringify(a),dateEnd:n=JSON.stringify(n),status:s};console.log(c),x()({url:"/om/searchorderform",method:"post",type:"json",data:c}).then((function(t){if(0!==t.total){console.log(t),t.results.forEach((function(e){e.key=Object(F.a)()})),fe(t.results);var a=e.state.pagination;a.total=t.total,e.setState({data:t.results,pagination:a}),m.b.success("\u67e5\u8be2\u6210\u529f")}else m.b.error("\u67e5\u65e0\u8ba2\u5355")}))},e.handleTableChange=function(t){console.log(t);var a=t.current,n=t.pageSize;e.setState({pagination:{current:a,pageSize:n}}),e.fetch({pagination:t})},e.getRandomuserParams=function(t){return{current:t.pagination.current,pageSize:t.pagination.pageSize,status:e.state.status}},e.fetch=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setState({loading:!0}),x()({url:"/om/oflist",method:"post",type:"json",data:e.getRandomuserParams(t)}).then((function(a){a.results.forEach((function(e){e.key=Object(F.a)()})),console.log(a),fe(a.results),e.setState({loading:!1,data:a.results,pagination:Object(h.a)(Object(h.a)({},t.pagination),{},{total:a.total})})}))},e.changeStatusAndPost=function(t){var a=e.state.pagination;e.setState({status:t},(function(){e.fetch({pagination:a})}))},e.willdeliveryClick=function(){e.changeStatusAndPost("willdelivery")},e.deliveryClick=function(){e.changeStatusAndPost("delivery")},e.successClick=function(){e.changeStatusAndPost("success")},e.refundClick=function(){e.changeStatusAndPost("refund")},e.refundedClick=function(){e.changeStatusAndPost("refunded")},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.pagination;this.fetch({pagination:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.pagination,s=t.loading;return Object(C.jsxs)("div",{children:[Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsxs)("div",{className:"Om-head",children:[Object(C.jsxs)("div",{className:"Om-desc-wraper",children:[Object(C.jsxs)(A.a,{className:"bdc",children:[Object(C.jsx)(A.a.Item,{children:Object(C.jsx)("a",{href:"/home",children:"\u4e3b\u9875"})}),Object(C.jsx)(A.a.Item,{children:"\u8ba2\u5355\u4fe1\u606f\u7ba1\u7406"})]}),Object(C.jsx)(L.b,{title:"\u8ba2\u5355\u7ba1\u7406",className:"desc",children:Object(C.jsx)(L.b.Item,{children:"\u5c55\u793a\u8ba2\u5355\u4fe1\u606f\uff0c\u67e5\u8be2\u8ba2\u5355\uff0c\u67e5\u770b\u8ba2\u5355\u72b6\u6001\uff0c\u5904\u7406\u8ba2\u5355\u7684\u53d1\u8d27\uff0c\u786e\u8ba4\u9001\u8fbe\u548c\u540c\u610f\u9000\u6b3e"})})]}),Object(C.jsx)("div",{className:"status-switch",children:Object(C.jsxs)(Z.b,{children:[Object(C.jsx)(g.a,{className:"status-button",onClick:this.willdeliveryClick,children:"\u5f85\u53d1\u8d27"}),Object(C.jsx)(g.a,{className:"status-button",onClick:this.deliveryClick,children:"\u914d\u9001\u4e2d"}),Object(C.jsx)(g.a,{className:"status-button",onClick:this.successClick,children:"\u5df2\u6210\u4ea4"}),Object(C.jsx)(g.a,{className:"status-button",onClick:this.refundClick,children:"\u5f85\u9000\u6b3e"}),Object(C.jsx)(g.a,{className:"status-button",onClick:this.refundedClick,children:"\u5df2\u9000\u6b3e"})]})})]}),Object(C.jsxs)("div",{className:"search",children:[Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsxs)(Z.b,{style:{marginTop:20},size:20,children:[Object(C.jsxs)("div",{children:["\u8ba2\u5355id:",Object(C.jsx)(ee.a,{name:"Oid",className:"Om-input",ref:function(t){e.ofidInput=t}})]}),Object(C.jsxs)("div",{children:["\u7528\u6237id:",Object(C.jsx)(f.a,{name:"commodity",className:"Om-input",ref:function(t){e.uidInput=t}})]}),Object(C.jsxs)("div",{children:["\u65f6\u95f4:",Object(C.jsx)(xe.a,{locale:Ce.a,children:Object(C.jsx)(we,{showTime:!0,format:"YYYY-MM-DD HH:mm",onChange:this.dateOnChange,ref:function(t){e.dateElev=t}})})]}),Object(C.jsx)("div",{style:{marginLeft:20},children:Object(C.jsx)(g.a,{type:"primary",shape:"circle",icon:Object(C.jsx)(ne.a,{}),onClick:this.OmSearch})})]})]}),Object(C.jsx)("div",{className:"tableWraper contentWraper",children:Object(C.jsx)(T.a,{columns:this.getColumns(),dataSource:a,pagination:n,loading:s,onChange:this.handleTableChange,bordered:!0,expandable:{onExpand:function(t,a){console.log(a,222222222,e.state.ofDetails);var n=1;if(e.state.ofDetails.forEach((function(e){console.log(e.user.uid,a.uid),e.commodityDetails[0].ofid===a.ofid&&(n=0)})),n){var s={ofid:a.ofid,uid:a.uid};x()({url:"/om/ofdetails",method:"post",type:"json",data:s}).then((function(t){console.log(t),t.commodityDetails.forEach((function(e){e.key=Object(F.a)()}));var a=e.state.ofDetails;a.push(t),e.setState({ofDetails:a})}))}},expandedRowRender:function(t){console.log(t.uid),console.log(e.state.ofDetails);var a,n=0;if(e.state.ofDetails.forEach((function(e,s){console.log(e.user.uid,t.uid),e.commodityDetails[0].ofid===t.ofid&&(n=1,a=s)})),n){if(null!==e.state.ofDetails&&void 0!==e.state.ofDetails[a].user&&void 0!==e.state.ofDetails[a].commodityDetails){var s=e.state.ofDetails[a].user,c=e.state.ofDetails[a].commodityDetails;return Object(C.jsxs)("div",{className:"sub-order",children:[Object(C.jsxs)("p",{children:["\u7528\u6237\u6536\u8d27\u5730\u5740: ",s.address," ",s.uname," ",s.phone," "]}),Object(C.jsx)("p",{style:{fontWeight:600,fontSize:14},children:"\u5546\u54c1\u8be6\u60c5:"}),c.map((function(e){return Object(C.jsxs)("div",{className:"commodity-details",children:[Object(C.jsxs)("div",{className:"commodity-details-item",children:["\u7f16\u53f7: ",e.cid]}),Object(C.jsxs)("div",{className:"commodity-details-item",children:["\u540d\u79f0: ",e.commodityName]}),Object(C.jsxs)("div",{className:"commodity-details-item",children:["\u6570\u91cf: ",e.count]})]})}))]})}return Object(C.jsx)(te.a,{})}}}})})]})}}]),a}(n.Component),Ne=a(450),ke=a(202),Ie=(a(431),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={data:[],loading:!1,hasMore:!0,total:"",isAddCategory:!1,count:0,pageSize:8},e.fetchData=function(t){var a=e.state.count,n=e.state.pageSize;a+=1,e.setState({count:a});var s={count:a,pageSize:n};x()({url:"/category/categorylist",method:"post",data:s,type:"json",success:function(e){t(e)}})},e.handleInfiniteOnLoad=function(){var t=e.state,a=t.data,n=t.total;if(e.setState({loading:!0}),a.length>=n)return m.b.warning("\u5206\u7c7b\u5df2\u5c55\u793a\u5b8c\u6bd5"),void e.setState({hasMore:!1,loading:!1});e.fetchData((function(t){a=a.concat(t.results),e.setState({data:a,loading:!1,total:t.total})}))},e.judgeCategoryNameIsExist=function(t){var a=0;return e.state.data.forEach((function(e){e.category===t&&(a=1)})),a},e.addCategory=function(){var t=e.categoryInput.state.value,a=e.state.pageSize;void 0!==t&&""!==t&&-1===t.search(/\s/)?e.judgeCategoryNameIsExist(t)?m.b.error("\u5206\u7c7b\u5df2\u5b58\u5728\uff01"):(t=(t=t.replace(/[A-z]|[0-9]/g,"")).replace(/[$\uffe5@#*\uff08\uff09\u3010\u3011/\uff0c:\uff1a\u2018\u2019\u201c\u201d""[\]{}()-_\u2014\u2014+~\xb7^%&',;=?$\x22]/g,""),console.log(t),x()({url:"/category/addcategory",method:"post",type:"json",data:{categoryName:t,pageSize:a}}).then((function(t){e.setState({data:t.results}),e.categoryInput.input.value="",e.categoryInput.state.value="","success"===t.status?m.b.success("\u65b0\u589e\u5206\u7c7b\u6210\u529f\uff01"):m.b.error("\u65b0\u589e\u5206\u7c7b\u5931\u8d25\uff01")}))):m.b.warning("\u8f93\u5165\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a\u6216\u542b\u6709\u7a7a\u683c")},e.deleteCategory=function(t){var a=e.state.count*e.state.pageSize;x()({url:"/category/deletecategory",method:"post",type:"json",data:{caid:t,end:a}}).then((function(t){e.setState({data:t.results}),"success"===t.status?m.b.success("\u5220\u9664\u5206\u7c7b\u6210\u529f\uff01"):m.b.error("\u5220\u9664\u5206\u7c7b\u5931\u8d25\uff01")}))},e.AddCategoryIsTrue=function(){e.setState({isAddCategory:!0})},e.AddCategoryIsFalse=function(){e.setState({isAddCategory:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.fetchData((function(t){console.log(t),e.setState({data:t.results,total:t.total})}))}},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{children:[Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsxs)("div",{className:"descwraper",children:[Object(C.jsxs)(A.a,{className:"bdc",children:[Object(C.jsx)(A.a.Item,{children:Object(C.jsx)("a",{href:"/home",children:"\u4e3b\u9875"})}),Object(C.jsx)(A.a.Item,{children:"\u5546\u54c1\u5206\u7c7b\u7ba1\u7406"})]}),Object(C.jsx)(L.b,{title:"\u5206\u7c7b\u7ba1\u7406",className:"desc",children:Object(C.jsx)(L.b.Item,{children:"\u5546\u54c1\u5206\u7c7b\u5c55\u793a\uff0c\u65b0\u589e\u5206\u7c7b\uff0c\u5220\u9664\u5206\u7c7b"})})]}),Object(C.jsxs)("div",{className:"search",children:[Object(C.jsx)(R.a,{style:{margin:0}}),Object(C.jsx)(Z.b,{style:{marginTop:20},size:20,children:this.state.isAddCategory?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{children:["\u5206\u7c7b\u540d\u79f0:",Object(C.jsx)(f.a,{name:"category",className:"CimInput",ref:function(t){e.categoryInput=t}})]}),Object(C.jsx)(g.a,{type:"primary",style:{borderRadius:5},onClick:this.addCategory,children:"\u786e\u5b9a"}),Object(C.jsx)(g.a,{type:"primary",danger:!0,style:{borderRadius:5},onClick:this.AddCategoryIsFalse,children:"\u53d6\u6d88"})]}):Object(C.jsx)(g.a,{type:"primary",style:{borderRadius:5},onClick:this.AddCategoryIsTrue,children:"\u65b0\u589e\u5206\u7c7b"})})]}),Object(C.jsx)("div",{className:"contentWraper",children:Object(C.jsx)("div",{className:"demo-infinite-container",children:Object(C.jsx)(ce.a,{initialLoad:!1,pageStart:0,loadMore:this.handleInfiniteOnLoad,hasMore:!this.state.loading&&this.state.hasMore,useWindow:!1,children:Object(C.jsx)(Ne.b,{dataSource:this.state.data,renderItem:function(t){return Object(C.jsxs)(Ne.b.Item,{children:[Object(C.jsx)(Ne.b.Item.Meta,{title:t.category,style:{fontSize:20}}),Object(C.jsx)(g.a,{type:"primary",danger:!0,style:{borderRadius:5},children:Object(C.jsx)(P.a,{title:"\u786e\u5b9a\u5220\u9664\u8be5\u5206\u7c7b\u5417?",onConfirm:e.deleteCategory.bind(e,t.caid),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",children:"\u5220\u9664\u5206\u7c7b"})})]},Object(F.a)())},children:this.state.loading&&this.state.hasMore&&Object(C.jsx)("div",{className:"demo-loading-container",children:Object(C.jsx)(ke.a,{})})})})})})]})}}]),a}(n.Component)),De=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){switch(this.props.match.params.name){case"category":return Object(C.jsx)(Ie,{});case"adm":return Object(C.jsx)(Q,{});case"cim":return Object(C.jsx)(be,{});case"uim":return Object(C.jsx)(H,{});case"om":return Object(C.jsx)(Se,{});default:return Object(C.jsx)(ge,{})}}}]),a}(n.Component),ze=a(452),Ee=a(453),Pe=a(454),Te=a(455),Re=a(456),Ae=a(457),Le=a(102),Fe=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={current:1},e.menuClick=function(t){e.setState({current:t.key})},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(C.jsxs)(Le.a,{id:"menu",theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onClick:this.menuClick,children:[Object(C.jsx)(Le.a.Item,{icon:Object(C.jsx)(ze.a,{}),children:Object(C.jsx)(u.b,{to:"/home/dashboard",children:"\u6570\u636e\u6982\u51b5"})},"1"),Object(C.jsx)(Le.a.Item,{icon:Object(C.jsx)(Ee.a,{}),children:Object(C.jsx)(u.b,{to:"/home/uim",children:"\u7528\u6237\u4fe1\u606f\u7ba1\u7406"})},"2"),Object(C.jsx)(Le.a.Item,{icon:Object(C.jsx)(Pe.a,{}),children:Object(C.jsx)(u.b,{to:"/home/cim",children:"\u5546\u54c1\u4fe1\u606f\u7ba1\u7406"})},"3"),Object(C.jsx)(Le.a.Item,{icon:Object(C.jsx)(Te.a,{}),children:Object(C.jsx)(u.b,{to:"/home/category",children:"\u5546\u54c1\u5206\u7c7b\u7ba1\u7406"})},"4"),Object(C.jsx)(Le.a.Item,{icon:Object(C.jsx)(Re.a,{}),children:Object(C.jsx)(u.b,{to:"/home/om",children:"\u8ba2\u5355\u4fe1\u606f\u7ba1\u7406"})},"5"),Object(C.jsx)(Le.a.Item,{icon:Object(C.jsx)(Ae.a,{}),children:Object(C.jsx)(u.b,{to:"/home/adm",children:"\u5e7f\u544a\u6295\u653e\u7ba1\u7406"})},"6")]})}}]),a}(n.Component),qe=k.a.Header,Me=k.a.Sider,We=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={collapsed:!1},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e.logoClick=function(){window.location.href="http://localhost:3000/home"},e.showContent=function(){return Object(C.jsxs)(k.a,{className:"site-layout",children:[Object(C.jsx)(qe,{className:"site-layout-background",style:{paddingLeft:16,height:35},children:s.a.createElement(e.state.collapsed?D.a:z.a,{className:"trigger",onClick:e.toggle})}),Object(C.jsx)("div",{children:Object(C.jsx)(j.b,{path:"/home/:name?",component:De})})]})},e.showSider=function(){return Object(C.jsx)(I.a,{children:Object(C.jsxs)(Me,{id:"sider",trigger:null,collapsible:!0,collapsed:e.state.collapsed,style:{minHeight:"100vh"},children:[Object(C.jsx)("div",{className:"logo",style:{color:"white",textAlign:"center",padding:19},children:Object(C.jsx)("div",{onClick:e.logoClick,id:"logo",children:"\u91cd\u90ae\u8d85\u5e02\u7ba1\u7406\u7cfb\u7edf"})}),Object(C.jsx)(Fe,{})]})})},e}return Object(o.a)(a,[{key:"render",value:function(){return null===JSON.parse(sessionStorage.getItem("admin"))?Object(C.jsx)(j.a,{path:"/login"}):Object(C.jsx)(u.a,{children:Object(C.jsxs)(k.a,{children:[this.showSider(),this.showContent()]})})}}]),a}(n.Component),Ve={name:"file",action:"/modifyad",headers:{authorization:"authorization-text"},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?m.b.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&m.b.error("".concat(e.file.name," file upload failed."))}},Be=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(C.jsx)("div",{children:Object(C.jsx)(U.a,Object(h.a)(Object(h.a)({},Ve),{},{children:Object(C.jsx)(g.a,{type:"primary",children:"Click to Upload"})}))})}}]),a}(n.Component),He=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(C.jsx)("div",{children:Object(C.jsx)(u.a,{children:Object(C.jsxs)(j.d,{children:[Object(C.jsx)(j.b,{path:"/login",component:N}),Object(C.jsx)(j.b,{path:"/home",component:We}),Object(C.jsx)(j.b,{path:"/test",component:Be}),Object(C.jsx)(j.a,{path:"/",to:"/login"})]})})})}}]),a}(n.Component);i.a.render(Object(C.jsx)(He,{}),document.getElementById("root"))}},[[432,1,2]]]);
//# sourceMappingURL=main.0b9f4c8e.chunk.js.map